\documentclass{article}


\usepackage{tabularx}
\usepackage{booktabs}

\title{Software Requirements Specification for RLCatan\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

\section*{(G) Goals}\label{sec:srs-goals}
\renewcommand{\thesubsection}{G.\arabic{subsection}}

\subsection{Context and Overall Objective}\label{subsec:context-and-overall-objective}
The project aims to create an AI agent, named \textbf{RLCatan}, that learns to play the board game Catan competitively using deep reinforcement learning. The purpose is to develop a decision-making support tool that aids players by providing strategic advice. This tool will also serve as a powerful AI opponent for practice. The project addresses the challenges of creating an AI for a game with a large state space, stochastic elements like dice rolls, and partially observable information. The final product will be a digital twin that uses computer vision to observe a physical game and provide real-time strategic suggestions.

\subsection{Current Situation}\label{subsec:current-situation}
Despite its popularity, the inherent complexity of Catan presents a significant technical challenge for AI development. This complexity limits players' ability to practice against a consistently challenging opponent and prevents a deeper, data-driven understanding of the game's optimal strategies. The lack of a high-level AI bot also restricts training opportunities for competitive players who wish to improve their game. The RLCatan project will address this limitation by creating a tool designed to tackle these specific technical hurdles.

\subsection{Expected Benefits}\label{subsec:expected-benefits}
\begin{itemize}
    \item \textbf{Enhanced Player Skill and Engagement} – The RLCatan AI provides in-game advice, helping novice players understand the game and allowing advanced players to refine strategies.
    \item \textbf{Strategic Insights and Learning} – Offers post-game advice by analyzing key moments and explaining alternative moves to improve understanding and performance.
    \item \textbf{AI Innovation and Research Contribution} – The project contributes to AI research by addressing large state spaces, stochastic elements, and partially observable environments, demonstrating the team's technical capabilities.
\end{itemize}

\subsection{Functionality Overview}\label{subsec:functionality-overview}
\begin{itemize}
    \item \textbf{Game state capture} – A camera captures the physical board state.
    \item \textbf{Data processing} – Converts captured images into a digital representation of the board and player data.
    \item \textbf{AI analysis} – Reinforcement learning model determines optimal actions.
    \item \textbf{Output} – Provides move suggestions to the player's device.
    \item \textbf{Post-game advice} – Offers insights on key moments after the game concludes.
    \item \textbf{Simulation} – AI can simulate gameplay as a competing player.
\end{itemize}

\subsection{High-Level Usage Scenarios}\label{subsec:high-level-usage-scenarios}
\begin{itemize}
    \item \textbf{Scenario 1: In-game advice} – Players show the current board state; the system suggests the optimal next move.
    \item \textbf{Scenario 2: Post-game analysis} – Players review performance; the system highlights key moments and alternative strategies.
    \item \textbf{Scenario 3: Training against the AI} – Players play a full game against RLCatan, which acts as a competitive opponent for practice.
\end{itemize}

\subsection{Limitations and Exclusions}\label{subsec:limitations-and-exclusions}
\begin{itemize}
    \item \textbf{Physical interaction with the board} – The system will not move pieces or manipulate the board.
    \item \textbf{Full real-time tracking} – Focus is on capturing static frames, not continuous video streams.
    \item \textbf{Hidden information tracking} – The AI will not access information that is hidden from players.
    \item \textbf{Support for expansions} – The scope is limited to standard Settlers of Catan rules; expansions are excluded.
\end{itemize}

\subsection{Stakeholders and Requirements Sources}\label{subsec:stakeholders-and-requirements-sources}
\textbf{Stakeholders:}
\begin{itemize}
    \item Players of Catan – End-users seeking skill improvement.
    \item Project Supervisor – Dr. Istvan David.
    \item Department of Computing and Software (CAS) – Hosting organization.
\end{itemize}

\textbf{Requirements Sources:}
\begin{itemize}
    \item Project documentation – Initial description provided by Dr. Istvan David.
    \item Competitive Catan players – Consulted for strategic insights and advanced gameplay knowledge.
    \item Open-source libraries – Catanatron, OpenCV, YOLOv9 inform technical requirements.
    \item Academic research – Reinforcement learning and computer vision papers guide AI design.
    \item Industry standards – PEP 8 and Google style guides define coding standards.
\end{itemize}

\newpage{}



\section*{(E) Environment}\label{sec:srs-environment}
\renewcommand{\thesubsection}{E.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Glossary}\label{subsec:glossary}
\begin{itemize}
    \item \textbf{Catan} – A strategy board game called \textit{Settlers of Catan} where players collect resources, build roads/settlements, and trade to earn points.
    \item \textbf{AI (Artificial Intelligence)} – Field of computer science and engineering that focuses on creating systems capable of performing tasks that usually require the intelligence of a human.
    \item \textbf{RL (Reinforcement Learning)} – A type of machine learning where an agent learns how to make decisions by interacting with an environment and receiving rewards or penalties for actions taken.
    \item \textbf{Digital twin} – A digital system that mirrors a physical one. In this project, it specifically refers to a digital representation of the physical Catan game board, updated in real time.
    \item \textbf{CV (Computer Vision)} – An area of artificial intelligence that trains computers to interpret and understand the visual world (in our case, the physical Catan board) by extracting meaningful information from digital images and videos.
    \item \textbf{LLM (Large Language Model)} – A machine learning model trained on a very large amount of text data to generate and understand natural language.
    \item \textbf{Game state} – The current configuration of the game, including player resources, board layout (roads, settlements, cities), and dice rolls.
\end{itemize}

\subsection{Components}\label{subsec:components2}
\begin{itemize}
    \item \textbf{Physical Catan board and pieces} – The physical game setup that the system observes.
    \item \textbf{Players} – Human participants who interact with the physical game and receive decision support.
    \item \textbf{Cameras/Sensors} – Hardware that captures the physical board state for the digital twin.
    \item \textbf{OpenAI Gym} – Provides a training/testing environment for reinforcement learning agents.
    \item \textbf{Reinforcement Learning Agent} – Learns strategies through the simulator and connects with the digital twin for real-time decision support.
    \item \textbf{Visualization Interface} – Displays the current game state and AI recommendations to users.
    \item \textbf{Optional components:}
    \begin{itemize}
        \item \textbf{Smart glasses} – Provide players with an augmented view of the game and recommendations.
        \item \textbf{LLM service/API} – Generates natural language explanations of strategies.
    \end{itemize}
\end{itemize}

\subsection{Constraints}\label{subsec:constraints}
\begin{itemize}
    \item \textbf{Game rules of Catan} – The RL agent must strictly follow the official rules of the game.
    \item \textbf{Real-time operation} – The system must process board states and provide recommendations fast enough to be useful during live play.
    \item \textbf{Camera limits (Computer Vision)} – Accuracy of game state detection is restricted by available hardware (resolution of camera, field of view, lighting).
    \item \textbf{Simulator environment} – The RL agent is limited to the APIs and mechanics provided by the Catan simulator.
    \item \textbf{Computational resources} – Training and running the RL agent is bounded by available GPU/CPU capacity.
    \item \textbf{Timeframe} – The project must be completed within the allocated time frame.
\end{itemize}

\subsection{Assumptions}\label{subsec:assumptions}
\begin{itemize}
    \item \textbf{Players will follow standard Catan rules} – The system assumes human players won’t cheat or make illegal moves.
    \item \textbf{Stable lighting and camera angle} – The computer vision module assumes it can reliably see the board, even if real-world conditions could vary.
    \item \textbf{Network and device reliability} – The system assumes the player’s device and connection work well enough for real-time suggestions.
\end{itemize}

\subsection{Effects}\label{subsec:effects}
\begin{itemize}
    \item \textbf{Player decision support} – The AI provides move suggestions, affecting the decisions players make in real time.
    \item \textbf{Learning and adaptation} – The RL agent improves over time, indirectly affecting the level of challenge and advice for players.
    \item \textbf{Post-game analysis} – Feedback and suggestions might influence how players approach future games.
    \item \textbf{Device usage} – The system uses computational resources on player devices or servers for inference and visualization.
    \item \textbf{Game pacing} – Real-time suggestions could speed up or slow down the flow of the game.
\end{itemize}

\subsection{Invariants}\label{subsec:invariants}
\begin{itemize}
    \item \textbf{Board orientation is fixed} – The physical board doesn’t get flipped or moved, so the computer vision module can track it accurately.
    \item \textbf{Player order remains constant} – The sequence of turns doesn’t change unexpectedly.
    \item \textbf{Player set is fixed} – No new players join, and no existing players leave mid-game.
    \item \textbf{Game components stay in place} – Settlements, roads, and resources aren’t physically moved outside of normal game actions.
    \item \textbf{Camera/viewing angle remains stable} – The vision system continues to see the board from the expected perspective.
\end{itemize}

\newpage{}




\section*{(S) System}\label{sec:srs-system}
\renewcommand{\thesubsection}{S.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Components}\label{subsec:components}
The system is separated into six major components:

\begin{itemize}
    \item Board Representation: The training
    environment for the model, acting as a representation of the game’s state and the
    moves that can be made on a given turn.

    \item Game state digital twin: The component
    in charge of transferring a static/real-time physical board state to the board
    representation, via CV or sensors.

    \item AI model: The pre-trained model,
    responsible for providing a move prompt to be sent to the user.

    \item User Interface: The visual
    representation of the current game state, appended with the move suggested by
    the model, displayed to the user so they can make use of the model’s advice.

    \item Game State Database: A database for
    storing each game state in a given game, for traceability and for providing
    context to an LLM for post-game review.

    \item Communication Layer: The component
    in charge of communication between various components, such as sending the read
    board state to the board representation or transferring the model’s provided
    move to the UI\@.
\end{itemize}

\subsection{Functionality}\label{subsec:functionality}

\subsection{Interfaces}\label{subsec:interfaces}

\subsection{Detailed Usage Scenarios}\label{subsec:detailed-usage-scenarios}

\subsection{Prioritization}\label{subsec:prioritization}

\subsection{Verification and Acceptance Criteria}\label{subsec:verification-and-acceptance-criteria}

\subsection{Requirements Process and Report}\label{subsec:requirements-process-and-report}

\newpage{}


\section*{(P) Project}\label{sec:srs_project}
\renewcommand{\thesubsection}{P.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Roles and Personnel}\label{subsec:roles}
\begin{itemize}
    \item \textbf{Team Leader (Jake)} – Schedules meetings, coordinates the team, and acts as the primary point of contact with the supervisor and teaching assistant.
    \item \textbf{Notetaker (Rebecca)} – Creates agendas, takes meeting notes, and updates the Kanban board to track project progress.
    \item \textbf{IT/DevOps (Sunny)} – Manages the GitHub repository, oversees deployment processes, and handles technical and integration issues.
    \item \textbf{Researcher (Matthew)} – Locates relevant academic papers and resources, researches unfamiliar topics, and provides insights to guide technical and conceptual understanding.
    \item \textbf{Supervisor – Dr. Istvan David} – Provides guidance, technical expertise, and oversight for the project. Offers advice on project scope, architecture, and milestone management.
    \item \textbf{Teaching Assistant – Tiago de Moraes Machado} – Provides assistance with course-related questions, clarifications, and support for project development. Acts as a point of contact for feedback and additional resources.
\end{itemize}

\subsection{Imposed Technical Choices}\label{subsec:technicalchoices}
\begin{itemize}
    \item \textbf{Programming languages} – Python for backend and AI development; JavaScript with React for frontend implementation.
    \item \textbf{AI framework} – Reinforcement learning agent trained using the OpenAI Gym Catan simulator.
    \item \textbf{Computer vision} – Implemented using OpenCV and/or YOLOv9 for board state detection and tracking.
    \item \textbf{Version control and collaboration} – GitHub for repository management with branching, pull requests, CI/CD pipelines, and a Kanban board for task tracking.
    \item \textbf{Coding standards} – PEP8 for Python code and Google Style Guide for JavaScript/React.
    \item \textbf{License} – MIT License for open-source code distribution and collaboration.
\end{itemize}

\subsection{Schedule and Milestones}\label{subsec:schedule}
\raggedright will do - becca

\subsection{Tasks and Deliverables}\label{subsec:tasks}
\raggedright will do - becca


\subsection{Required Technology Elements}\label{subsec:requiredtech}
\begin{itemize}
    \item \textbf{Primary Programming Language} – Python is the primary language for the project's backend development.
    \item \textbf{Game Simulation Library} – The project will utilize the open-source library Catanatron for simulating Catan games and training the AI model.
    \item \textbf{Web Framework} – React and JavaScript will be used to build the user interface and digital twin.
    \item \textbf{Computer Vision Libraries} – OpenCV and YOLOv9 will be used for image recognition and processing of the physical board state.
    \item \textbf{Hardware} – The project will require a GPU for training the reinforcement learning model.
    \item \textbf{Version Control} – GitHub will be used for version control and collaboration.
    \item \textbf{Static Code Analysis} – SonarQube is planned for static code analysis.
    \item \textbf{Continuous Integration/Continuous Deployment (CI/CD)} – GitHub Actions will be used to implement CI for automated testing, and potentially CD for deployment pipelines. Deployment pipelines will be developed if a computing node for RL agent training is available.
\end{itemize}

\subsection{Risk and Mitigation Analysis}\label{subsec:risk}
\begin{itemize}
    \item \textbf{Risk: AI Fails to Learn Effectively}
    \begin{itemize}
        \item Description: The AI agent may not be able to learn to play Catan at a high level due to the game's complexity and stochastic nature.
        \item Mitigation: Regular Elo testing against benchmark opponents to ensure improvement. Proof of concept will demonstrate valid move generation even if performance is limited.
    \end{itemize}

    \item \textbf{Risk: User Interface is Not User-Friendly}
    \begin{itemize}
        \item Description: The user interface may not be intuitive or user-friendly for a wider audience.
        \item Mitigation: Conduct user testing sessions, gather feedback, and make iterative improvements.
    \end{itemize}

    \item \textbf{Risk: Technical Issues with External Libraries}
    \begin{itemize}
        \item Description: Technical issues may arise with external technologies like Catanatron, OpenCV, or YOLOv9.
        \item Mitigation: Team collaboratively addresses issues as they arise; members are responsible for thorough testing and validation before deployment.
    \end{itemize}

    \item \textbf{Risk: Unrealistic Schedule or Workload}
    \begin{itemize}
        \item Description: Tasks may take longer than expected or workload may become unbalanced among team members.
        \item Mitigation: Use GitHub Kanban board to manage tasks and milestones; notetaker updates board; time estimates and reassignment of tasks as needed.
    \end{itemize}
\end{itemize}

\subsection{Requirements Process and Report}\label{subsec:reqprocess}
\begin{itemize}
    \item \textbf{Initial Elicitation}: Requirements gathered through problem statement developed by the team, consulting key stakeholders including the project supervisor.
    \item \textbf{Elicitation Plan}:
    \begin{itemize}
        \item Meetings: Weekly team meetings to discuss progress, challenges, and refine requirements; additional meetings as needed.
        \item Communication: Discord server for informal discussions; separate Discord group for formal communication with advisor.
        \item Documentation: Tasks and issues tracked via GitHub Issues with labels, assignments, and templates for consistency.
        \item Process Update: Section updated as project progresses to reflect lessons learned, feedback from requirements document reviews, and revisions.
    \end{itemize}
\end{itemize}

\newpage{}



\section*{Appendix --- Reflection}
\input{../SRS_Reflection.tex}

\subsection*{Jake Read}\label{subsec:jake-read}
\begin{enumerate}
    \item I primarily worked on the hazard analysis doc, so for this one I handled a lot of the reviewing.
    I read through each section and made comments on things that could be improved or added, and I think it went quite smoothly.
    My team members are all still pulling their weight, and everyone accepts feedback well, which is great.
    I would say the doc is more coherent now, hopefully that comes across to you as well :)

    \item The main pain point was the good old Meyer template.
    To be honest, I don't enjoy SRS documents, so I wasn't particularly thrilled to have to write another one after 3RA3.
    We were recommended to use Meyer over Volere, and I'm happy with the choice, since Volere is pointlessly long, but Meyer has its own challenges.
    For one, the template is only available in asciidoctor (why?), so I had to rewrite the whole template in LaTeX\@.
    On top of that, it definitely feels like the SRS rubric is focused more so on Volere, so making sure this one followed it too was a bit of a hassle.
    Additionally, last time we used this template, it was the final project for an entire course, but naturally there wasn't as much time for this deliverable, so it feels comparitively limited.
    We compromised my shortening certain sections, while tweaking the template in areas to add more lists of actual requirements.

    \item Quite a lot of our requirements came from chatting with Prof. Istvan David, our supervisor.
    I asked him a lot of questions regarding his expectations when proposing the project, as well as asking for clarification for more technical details we weren't aware of.
    His initial project description was also an excellent source for requirements elicitation since it was well-structured and separated rather modularly.
    Sunny also has connections in the \emph{Catan} competitive community, so we were able to derive some requirements directly from our potential user base.

    \item Most of the courses we've taken throughout uni will help obviously, since that's the fundamental idea behind a capstone project, but there are a few that are particularly relevant.
    3RA3 covered a lot of the documentation that we also have to do for this class.
    Having done similar work before definitely helps reduce some of the frustration of seemingly endless written deliverables (marginally), so I'm grateful for that.
    I'm also currently taking 4AL3 as an elective, which focuses on the application of machine learning.
    It covers reinforcement learning, which is the focus of our project, so it's a very relevant course.
    Overall though, I think the most helpful course for this project, (and in my opinion the most useful course in this degree so far), was 2AA4.
    That course was essentially capstone-lite, with one large main full-term coding project that progressed in stages, from an MVP up to a finished product.
    It also covered design principles and gave critical experience regarding the organization of group coding projects.
    It had a huge workload and was very stressful at the time, but in retrospect it was the most fun I've had in any course, and it's a big part of why I'm so excited for this project.

    \item The main skills we're going to need revolve around deep reinforcement learning and deep neural networks.
    This is the main reason I wanted to take this project in the first place.
    DRL is a relatively new field, with a lot of active research, so an opportunity to work with it to this scale is rare and develops highly marketable software engineering skills.
    With \emph{Catan}, a big area of knowledge we'll need is the creation and application of heuristics to guide the DRL model to improved results.
    I'm rather interested in this, and I'm happy to research it on my own time to try to gain some expertise for the group.

    \item For getting an understanding of DRL and DNN, we have two main ways of gaining the necessary knowledge.
    One of the options for learning this is researching on our own time, using a list of papers on the subject we're slowly collecting on our Discord.
    The other option is discussions with Istvan, since he's an expert on the subject and is happy to help with any confusions we have.
    The approach to learning heuristics to aid the model are similar, research and consulting Istvan, but a bit of trial and error will be involved too.
    By definition, no one knows exactly why heuristics work, they're a matter of intuition, so by just experimenting with different approaches I should be able to learn quite a lot.
    I'm planning on learning primarily by chatting with Istvan.
    I've already been asking him a lot of questions and his answers have been very helpful, so while he's happy to keep helping I'm happy to keep learning from him.
    If I feel like I'm taking too much of his time, I'll fall back on research and experimentation.

\end{enumerate}

\end{document}
