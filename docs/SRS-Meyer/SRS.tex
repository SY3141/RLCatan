\documentclass{article}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{amsfonts}
\usepackage{amsopn}
\usepackage{float}
\usepackage{graphicx}
\usepackage{amstext}
\usepackage{zed-csp}
\usepackage{placeins}
\usepackage{pdflscape}
\usepackage{caption}
\usepackage{hyperref}
% ===== External links (used only inside Glossary) =====
\newcommand{\CatanExt}{\href{https://en.wikipedia.org/wiki/Catan}{Catan}}
\newcommand{\AIExt}{\href{https://en.wikipedia.org/wiki/Artificial_intelligence}{AI}}
\newcommand{\RLExt}{\href{https://www.ibm.com/think/topics/reinforcement-learning}{RL}}
\newcommand{\DigitalTwinExt}{\href{https://en.wikipedia.org/wiki/Digital_twin}{Digital Twin}}
\newcommand{\CVExt}{\href{https://www.ibm.com/think/topics/computer-vision}{CV}}
\newcommand{\LLMExt}{\href{https://www.cloudflare.com/learning/ai/what-is-large-language-model/}{LLM}}
\newcommand{\GameStateExt}{\href{https://milvus.io/ai-quick-reference/what-is-a-state-in-rl}{Game State}}


\title{Software Requirements Specification for RLCatan\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle

\tableofcontents

\listoftables

\listoffigures

\newpage

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Oct 6th & All & Draft of SRS\\
Oct 10th & All & Completion of SRS (Revision 0)\\
Feb 10th 2026 & All & Revision 1: Updated to reflect implemented features, Elo self-play league, curriculum learning, and multi-level opponent selection\\
\bottomrule
\end{tabularx}
\end{table}

\section*{Changes from Orginal SRS Meyer Template}
\addcontentsline{toc}{section}{Changes from Orginal SRS Meyer Template}
\begin{table}[H]
\caption{Changes from Template} \label{ChangesFromTemplate}
\begin{tabularx}{\textwidth}{|p{4cm}|>{\raggedright\arraybackslash}X|}
\hline
\textbf{Change} & \textbf{Reason} \\
\hline
Moved Glossary (E.1) to beginning of document & Level 4 says: Document is written so that: 1. Terms and acronyms are always defined before first use and there is a list providing full expansion of all acronyms with links to where they are defined in the text. 2. Information is defined in only one place (i.e. no redundant information). \\
\hline
Added Table of requirements in each Section & Meyer template lacked a clear way to present requirements. Adding tables for functional and non-functional requirements in each section improves clarity and organization. \\
\hline
Added Section (E.7) & The original template lacked a section for discussing legal/regulatory factors. A new section under environment made sense for this. \\
\hline
Added Section (G.8) & The original templated lacked a section for distinct user profiles and specific characteristics. A new section under goals was made for this.\\
\hline
Added References & The original template did not include a references section. Adding this section improves credibility and allows readers to verify sources. It allows follows the Level 4 on the rubric \\
\hline
Added Section (S.8) & This provides a place to put lengthy formalizations of aspects of the project. \\
\hline
Added Requirement Dependencies & This shows traceability between requirements in a visual manner. \\
\hline
Added a safety requirements section & This allows us to port over the hazard analysis requirements. \\
\hline
\end{tabularx}
\end{table}

\newpage

\medskip

% ===== Internal glossary link targets =====
\hypertarget{glossary-catan}{}
\hypertarget{glossary-ai}{}
\hypertarget{glossary-rl}{}
\hypertarget{glossary-dt}{}
\hypertarget{glossary-cv}{}
\hypertarget{glossary-llm}{}
\hypertarget{glossary-gamestate}{}
\hypertarget{glossary-elo}{}
\hypertarget{glossary-curriculum}{}
\hypertarget{glossary-experiential}{}

% ===== Internal references (used throughout document) =====
\newcommand{\Catan}{\hyperlink{glossary-catan}{Catan}}
\newcommand{\AI}{\hyperlink{glossary-ai}{AI}}
\newcommand{\RL}{\hyperlink{glossary-rl}{RL}}
\newcommand{\DigitalTwin}{\hyperlink{glossary-dt}{Digital Twin}}
\newcommand{\CV}{\hyperlink{glossary-cv}{CV}}
\newcommand{\LLM}{\hyperlink{glossary-llm}{LLM}}
\newcommand{\GameState}{\hyperlink{glossary-gamestate}{Game State}}
\newcommand{\Elo}{\hyperlink{glossary-elo}{Elo}}
\newcommand{\CurriculumLearning}{\hyperlink{glossary-curriculum}{Curriculum Learning}}
\newcommand{\ExperientialLearning}{\hyperlink{glossary-experiential}{Experiential Learning}}

\section*{Glossary}
\addcontentsline{toc}{section}{Glossary}
\raggedright This glossary defines key terms and acronyms used throughout this document to ensure clarity and understanding. Each term is hyperlinked to its first occurrence in the text for easy reference.
The following glossary headers are hyperlinked to their online definitions for further reading.
\begin{itemize}
    \item \hypertarget{glossary-catan}{\CatanExt{}} – A strategy board game called \textit{Settlers of Catan} where players collect resources, build roads/settlements, and trade to earn points.[1]
    \item \hypertarget{glossary-ai}{\AIExt{}} – Field of computer science and engineering that focuses on creating systems capable of performing tasks that usually require human intelligence.[2]
    \item \hypertarget{glossary-rl}{\RLExt{}} – A type of machine learning where an agent, known as Reinforcement Learning, learns by interacting with an environment and receiving rewards or penalties for its actions.[3]
    \item \hypertarget{glossary-dt}{\DigitalTwinExt{}} – A digital system that mirrors a physical one. In this project, it refers to a digital representation of the physical \emph{Catan} board, updated in real time.[4]
    \item \hypertarget{glossary-cv}{\CVExt{}} – An area of AI that trains computers to interpret and understand visual information, such as the physical \emph{Catan} board.[5]
    \item \hypertarget{glossary-llm}{\LLMExt{}} – A machine learning model trained on large amounts of text data to generate and understand language.[6]
    \item \hypertarget{glossary-gamestate}{\GameStateExt{}} – The current configuration of the game, including player resources, board layout, and dice rolls.[7]
    \item \hypertarget{glossary-elo}{\textbf{Elo Rating}} – A numerical rating system for competitive players (human or AI) that reflects their skill level and enables skill-matched matchmaking. Named after Arpad Elo, the system updates ratings based on game results against opponents of different ratings.
    \item \hypertarget{glossary-curriculum}{\textbf{Curriculum Learning}} – A machine learning training strategy where the model learns progressively through ordered phases of increasing complexity. In this project, curriculum phases simplify game rules initially (e.g., lower victory points) and gradually increase to full complexity.
    \item \hypertarget{glossary-experiential}{\textbf{Experiential Learning}} – An educational philosophy and learning process where knowledge is created through the transformation of experience, following Kolb's cycle: concrete experience, reflective observation, abstract conceptualization, and active experimentation. In software engineering, this means learning by actually building and deploying systems rather than only studying theory.[15]
\end{itemize}



\phantomsection
\section*{(G) Goals}\label{sec:srs-goals}
\addcontentsline{toc}{section}{Goals}
\renewcommand{\thesubsection}{G.\arabic{subsection}}
\renewcommand{\theHsubsection}{G.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Context and Overall Objective}\label{subsec:context-and-overall-objective}
The project aims to create an \AI{} agent, named \textbf{RLCatan}, that learns to play the board game \emph{\Catan{}} competitively using deep reinforcement learning (PPO). The system serves as both a tool for players of all skill levels to compete against opponents matched to their ability level, and as a reference implementation demonstrating how to apply software engineering principles to large-scale \AI{} and machine learning challenges. \textbf{Critically, this project exemplifies experiential learning}[15], where the development team gains deep expertise in ML systems, full-stack development, and production deployment through hands-on implementation rather than passive study. The purpose is to develop a fully-functional, scalable \AI{} opponent system with an Elo rating league for opponent selection, curriculum-based training for improved learning, and a web-based interface for gameplay, analysis, and model management. The \AI{} agent can be used for practice, skill improvement, and strategic analysis across all player skill levels. The project addresses the challenges of creating an \AI{} for a game with a large state space, stochastic elements like dice rolls, and partially observable information through progressive curriculum learning and competitive self-play via Elo leagues. Core implementation includes a trained \RL{} agent (PPO) with Elo rating tracking, a curriculum learning system for progressive training phases, a web-based game interface built with React, replay functionality with game state analysis, dynamic bot selection based on player skill level, and comprehensive model versioning and management. The digital twin concept has been implemented as a web interface displaying game states digitally rather than a computer vision system observing physical boards (which remains as future work).

\subsection{Current Situation}\label{subsec:current-situation}
Despite its popularity, the inherent complexity of \emph{\Catan{}} presents a significant technical challenge for \AI{} development. This complexity limits players' ability to practice against opponents appropriate to their skill level. Existing \emph{\Catan{}} AI implementations typically offer only a single difficulty level, preventing novice players from learning fundamentals and denying competitive players access to truly challenging opponents. The lack of a multi-tiered \AI{} system with skill-based matchmaking restricts training opportunities for players at all levels who wish to improve their game. Additionally, the technical challenges of training effective \AI{} agents for large state-space games like \emph{\Catan{}} remain under-documented in software engineering contexts, limiting educational value for future researchers and companies exploring similar \AI{} systems. The RLCatan project will address these limitations by creating a comprehensive system designed to tackle these specific technical and usability hurdles.

\subsection{Expected Benefits}\label{subsec:expected-benefits}
\begin{itemize}
    \item {Enhanced Player Skill and Engagement Across All Levels} – The RLCatan \AI{} provides scalable difficulty through Elo-rated opponents, allowing novice players to learn fundamentals while advanced players face competitive challenges. In-game advice helps players understand strategies, and multi-level play enables skill progression.
    \item {Strategic Insights and Learning} – Offers post-game advice by analyzing key moments and explaining alternative moves to improve understanding and performance.
    \item {\AI{} Innovation and Research Contribution} – The project contributes to \AI{} research by addressing large state spaces, stochastic elements, and partially observable environments through curriculum learning and Elo-based training strategies.
    \item {Software Engineering and ML Integration Reference} – This project serves as a comprehensive case study in applying software engineering principles to machine learning systems, demonstrating: (1) integration with third-party libraries (Catanatron) as grey-box components, (2) architectural patterns for connecting frontend UI with backend services and trained models, and (3) methodologies for managing ML model versioning, training pipelines, and deployment at scale. Future companies and researchers can leverage this as a reference implementation for building production-grade deep learning systems.
    \item {Experiential Learning Exemplar} – This project embodies the principles of experiential learning[15], where knowledge is created through the transformation of experience. The development team engages in a complete cycle of concrete experience (implementing complex ML systems), reflective observation (analyzing training results and system performance), abstract conceptualization (understanding ML theory and software architecture patterns), and active experimentation (iterating on models and system design). This hands-on approach to learning reinforcement learning, full-stack development, and production ML deployment provides far deeper understanding than purely theoretical study, making it an exemplary case of learning-by-doing in advanced software engineering.
\end{itemize}

\subsection{Functionality Overview}\label{subsec:functionality-overview}
\begin{itemize}
    \item {\AI{} Agent Training} – A PPO-based reinforcement learning agent trained through curriculum learning phases and self-play against opponents from an Elo league.
    \item {Elo Self-Play League System} – A competitive league infrastructure that maintains Elo ratings for all trained model snapshots and baseline opponents (random, value function, etc.), enabling dynamic opponent selection based on player skill level.
    \item {Curriculum Learning Framework} – Progressive training phases that start with simplified game rules (e.g., lower victory points, disabled complex actions) and gradually advance to full complexity, improving learning efficiency and convergence.
    \item {Game Simulation Environment} – A Python-based simulator (Catanatron) that supports training, benchmarking, and evaluation of \AI{} agents with configurable rule variations.
    \item {Web-based Game Interface} – A React/TypeScript interface for viewing live games and interacting with the \AI{} agent in real-time, with intuitive opponent selection by difficulty level.
    \item {Game Replay and Analysis} – Functionality to replay past games and display strategic analysis (e.g., win probability at each game state via MCTS-based evaluation).
    \item {Dynamic Opponent Selection} – Players can select opponents matched to their current Elo rating or choose specific difficulty levels, enabling skill-appropriate gameplay.
    \item {Model Versioning and Management} – Comprehensive tracking of model snapshots, training history, and Elo ratings for model introspection and version rollback.
    \item {Digital Twin Representation} – A digital display of the current board and game state, updated in real-time as gameplay progresses (web-based, not vision-based).
\end{itemize}

\subsection{High-Level Usage Scenarios}\label{subsec:high-level-usage-scenarios}
\begin{itemize}
    \item {Scenario 1: Playing Against Skill-Matched \AI{}} – Users select their skill level or enter their own Elo rating, and the system recommends or directly assigns an opponent from the Elo league. Users then play a match through the web interface with real-time board visualization and optional move recommendations.
    \item {Scenario 2: Multi-Level Player Progression} – A novice player starts with a low-Elo opponent, practices, and gradually challenges higher-rated opponents as their skill improves. The system dynamically suggests progressively more difficult opponents based on win rates.
    \item {Scenario 3: Replaying Past Games and Analysis} – Users access historical games, step through each turn, and view strategic analysis (e.g., win probability calculations) at each state to learn from both wins and losses.
    \item {Scenario 4: Bot Selection and Benchmarking} – Developers or advanced users select specific trained models from the league, configure them against each other or baselines, and evaluate performance through statistical analysis and match results.
    \item {Scenario 5: Curriculum-Based Training} – Developers run training loops configured with curriculum phases, monitoring phase transitions and reward metrics as the \AI{} agent progresses from simplified to full-complexity game rules.
    \item {Scenario 6: Model Versioning and Rollback} – Developers view historical model versions with their associated Elo ratings, select previous versions for deployment if needed, or analyze performance trends across training iterations.
\end{itemize}
\begin{figure}[H]
    \makebox[\textwidth][c]{\includegraphics[width=1.4\textwidth]{activity_diagram.png}}
    \caption{\textit{Activity diagram showing high-level usage scenario}}
    \label{fig:activity-diagram}
\end{figure}


\subsection{Limitations and Exclusions}\label{subsec:limitations-and-exclusions}
\begin{itemize}
    \item {Computer Vision (Out of Scope)} – The system does not process physical board images. All game states are provided programmatically through the game simulator, not detected via camera.
    \item {Real-time Physical Board Tracking} – The system does not use sensors or cameras to observe a physical game setup.
    \item {Physical interaction with the board} – The system will not move pieces or manipulate the board.
    \item {Hidden information tracking} – The \AI{} will not access information that is hidden from players (respects game rules).
    \item {Support for expansions} – The scope is limited to standard Settlers of \emph{\Catan{}} rules; expansions are excluded.
    \item {Natural Language Explanations} – LLM-based strategic explanations are not yet implemented; analysis is provided through numerical metrics.
    \item {Smart Glasses Integration} – Augmented reality features are not implemented.
    \item {Human Persona Modeling} – Trading behavior prediction based on player personas is not implemented.
\end{itemize}

\subsection{Stakeholders and Requirements Sources}\label{subsec:stakeholders-and-requirements-sources}
\textbf{Stakeholders:}
\begin{itemize}
    \item Society – General public interested in board game strategy.
    \item Players of \emph{\Catan{}} – End-users of all skill levels seeking appropriate opponents and skill improvement.
    \item Software Engineering Researchers and Practitioners – Professionals and students seeking reference implementations for integrating ML systems with production software architectures.
    \item Machine Learning Community – Researchers exploring curriculum learning and Elo-based training strategies for large state-space games.
    \item Software Engineering Educators – Academic institutions seeking real-world examples of experiential learning in advanced software engineering, demonstrating the value of learning-by-doing for complex ML systems.
    \item Development Team – Team members gaining hands-on expertise in production ML systems through experiential learning.
    \item Project Supervisor – Dr. Istvan David.
    \item Department of Computing and Software (CAS) – Hosting organization.
\end{itemize}

\noindent\textbf{Requirements Sources:}
\begin{itemize}
    \item Project documentation – Initial description provided by Dr. Istvan David.
    \item Competitive \emph{\Catan{}} players – Consulted for strategic insights, gameplay knowledge, and multi-level difficulty requirements.
    \item Open-source libraries – Catanatron[10], OpenCV[11], and YOLOv9[12] were consulted to inform the technical requirements.
    \item Academic research – Reinforcement learning, curriculum learning[14], Elo rating systems[13], and computer vision papers guide \AI{} design.
    \item Industry standards – PEP 8[9] and Google style guides[8] define coding standards.
\end{itemize}


\subsection{User Profiles}\label{subsec:User Profiles}
To ensure the system addresses the needs of its target audience, we have identified three distinct user profiles within the "Players of \emph{\Catan{}}" stakeholder group, aligned with the Elo league system for appropriate opponent matching.

\hspace{1cm}

\noindent\textbf{1. The Novice Player (Low Elo: 800-1100)}
\begin{itemize}
    \item \textbf{Game Knowledge:} Limited understanding of strategic depth; often focuses on basic rules and immediate resource needs.
    \item \textbf{Goals:} To learn the fundamentals, understand optimal building placements, and avoid common mistakes. Seeks skill progression with appropriate difficulty scaling.
    \item \textbf{Digital Literacy:} Varies, but expects a simple, intuitive, and highly guided interface.
    \item \textbf{Elo Matching:} The system matches this player against low-Elo opponents, with gradual progression as win rate improves. The \AI{} provides straightforward recommendations and encouragement.
    \item \textbf{Rationale:} The system's in-game advice functionality and Elo-based opponent selection are primarily tailored for this user. The curriculum learning phases trained on simplified rules also benefit novice players who face fewer complex game states early on.
\end{itemize}

\noindent\textbf{2. The Intermediate Player (Medium Elo: 1100-1400)}
\begin{itemize}
    \item \textbf{Game Knowledge:} Has a solid grasp of the rules and common strategies but struggles with adapting to complex game states or high-level opponent plays.
    \item \textbf{Goals:} To improve their win rate, discover new strategies, and understand the trade-offs of different moves. Wants to challenge themselves with appropriately difficult opponents.
    \item \textbf{Digital Literacy:} Generally comfortable with technology and can navigate more detailed features.
    \item \textbf{Elo Matching:} The system recommends mid-tier opponents and progressively offers slightly higher-Elo opponents as performance improves. Post-game analysis highlights key strategic moments.
    \item \textbf{Rationale:} This user benefits most from the system's post-game analysis and dynamic opponent scaling. The Elo league provides meaningful progression and competitive feedback.
\end{itemize}

\noindent\textbf{3. The Competitive Player (High Elo: 1400+)}
\begin{itemize}
    \item \textbf{Game Knowledge:} Extensive knowledge of the game, including advanced strategies, common openings, and opponent metagame.
    \item \textbf{Goals:} To find the absolute optimal play in any given situation, test new theories, and practice against the most challenging opponents. May aspire to master the trained model or contribute to model development.
    \item \textbf{Digital Literacy:} High; they are willing to engage with complex data visualizations, advanced settings, and model versioning interfaces.
    \item \textbf{Elo Matching:} This player selects high-Elo opponents, accesses model versioning history, and may examine the Elo league standings. Can participate in benchmarking activities.
    \item \textbf{Rationale:} The \AI{} model's ability to serve as a competitive opponent through the Elo league is crucial for this user profile. They can use the system to play thousands of simulated games against top-rated models to refine their strategies. Access to model versions and Elo ratings enables strategic analysis.
\end{itemize}

\subsection{Software Engineering and ML Learning Value}\label{subsec:se-ml-learning}
Beyond serving as a game-playing system, RLCatan functions as a comprehensive reference implementation demonstrating industry-relevant software engineering practices for machine learning systems. More importantly, it serves as an \textbf{exemplar of experiential learning}[15] in advanced software engineering and machine learning.

\hspace{1cm}

\noindent\textbf{Experiential Learning Through Practice:} This project embodies Kolb's Experiential Learning Cycle:
\begin{itemize}
    \item \textbf{Concrete Experience:} Hands-on implementation of a complete ML system from data pipeline to deployment, wrestling with real technical challenges rather than simplified textbook examples.
    \item \textbf{Reflective Observation:} Analyzing training curves, debugging model performance, reviewing architectural decisions, and understanding why certain approaches succeeded or failed.
    \item \textbf{Abstract Conceptualization:} Developing deep understanding of ML theory, software architecture patterns, and systems integration through direct application rather than passive learning.
    \item \textbf{Active Experimentation:} Iterating on model designs, testing different training strategies (curriculum learning, Elo leagues), and refining system architecture based on empirical results.
\end{itemize}

The project demonstrates that complex concepts like reinforcement learning, distributed systems, and production ML are best learned through doing, not just reading.

\hspace{1cm}

\noindent\textbf{Integration Architecture:} The project exemplifies how to integrate third-party libraries (Catanatron) as grey-box components within a larger ML system. Through experiential learning, the team gains practical knowledge of managing external dependencies, adapting interfaces, and handling version compatibility across complex software stacks—knowledge that cannot be gained from documentation alone.

\hspace{1cm}

\noindent\textbf{Full-Stack ML System Design:} The architecture demonstrates end-to-end ML system design, connecting:
\begin{itemize}
    \item Frontend (React/TypeScript) for user interaction and visualization
    \item Backend (Flask) for business logic and API management
    \item ML Training Pipeline (Python/PyTorch) for model development
    \item Model Serving Infrastructure for inference deployment
    \item Database Systems (PostgreSQL) for persistent storage of game states, ratings, and metrics
\end{itemize}

Each component requires hands-on problem-solving, providing experiential learning opportunities that build genuine expertise.

\hspace{1cm}

\noindent\textbf{Advanced Training Methodologies:} The implementation showcases state-of-the-art techniques:
\begin{itemize}
    \item \textbf{\CurriculumLearning{}:} Progressive complexity management for efficient learning in large state spaces
    \item \textbf{\Elo{} Rating Systems:} Skill-based matchmaking and opponent selection for self-play training
    \item \textbf{Model Versioning:} Managing multiple model snapshots with associated performance metrics
\end{itemize}

Implementing these advanced techniques provides experiential learning that transforms theoretical knowledge into practical expertise.

\hspace{1cm}

\noindent\textbf{Production ML Challenges:} The project addresses real-world ML deployment concerns including model storage, version management, performance monitoring, and scalable inference serving. By encountering and solving these challenges firsthand, the development team gains experiential knowledge of production ML systems that is invaluable for future careers.

\hspace{1cm}

\noindent\textbf{Educational Impact:} Future companies and researchers developing deep learning systems for complex domains (robotics, autonomous systems, game AI, decision support) can reference this project's architecture, training strategies, and integration patterns as a template for their own implementations. More critically, this project demonstrates the power of experiential learning in software engineering education: the team's deep understanding of ML systems comes not from lectures or textbooks, but from the direct experience of building, debugging, and deploying a production-grade system.


\newpage{}


\phantomsection
\section*{(E) Environment}\label{sec:srs-environment}
\addcontentsline{toc}{section}{Environment}
\renewcommand{\thesubsection}{E.\arabic{subsection}}
\renewcommand{\theHsubsection}{E.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Glossary}\label{subsec:glossary}
\raggedright Moved glossary to beginning of document (see Changes from original SRS Meyer Template section).

\subsection{Components}\label{subsec:components2}
\raggedright The following is a list of elements in the environment that may affect or be affected by the system and the project.
It includes other systems to which the system must be interfaced:
\begin{itemize}
    \item {Game Simulator (Catanatron)} – The Python library that provides complete \emph{\Catan{}} game simulation, rule enforcement, and state management, serving as the foundational integration point for the project.
    \item {Elo League System} – Infrastructure for tracking and managing competitive ratings of trained model snapshots and baseline opponents, enabling dynamic opponent matching.
    \item {Curriculum Learning Manager} – System for defining and managing progressive training phases with configurable rule variations and advancement thresholds.
    \item {Players} – Human users of varying skill levels interacting with the web interface and AI agents competing against each other or the player.
    \item {Web Browser} – Client environment where the React UI runs, displaying the game state and accepting user input.
    \item {Web Server} – Flask-based backend that processes game logic, manages Elo ratings, and serves API endpoints to the frontend.
    \item {Database Server} – PostgreSQL instance storing game history, player profiles, match statistics, Elo ratings, and curriculum progress.
    \item {Training Infrastructure} – GPU-enabled servers or local machines for running \RL{} training loops with curriculum phases and league-based opponent selection.
    \item {Optional/Future components:}
    \begin{itemize}
        \item {Computer Vision System} – (Deferred) Would process camera input to track physical board state in future versions.
        \item {\LLM{} service/API} – (Deferred) Would generate natural language explanations of strategies in future versions.
        \item {Smart glasses} – (Deferred) Would provide augmented reality visualization in future versions.
    \end{itemize}
\end{itemize}

\subsection{Constraints}\label{subsec:constraints}
\begin{itemize}
    \item {Game rules of \emph{\Catan{}}} – The \RL{} agent must strictly follow the official rules of the game.
    \item {Web Server Performance} – The system must process game states and API requests fast enough to provide responsive gameplay.
    \item {Simulator Accuracy} – The game simulator must correctly implement all game mechanics to ensure the \AI{} learns valid strategies.
    \item {Model Loading} – The \RL{} agent model must be efficiently loaded and kept in memory during gameplay.
    \item {Computational resources} – Training and running the \RL{} agent is bounded by available GPU/CPU capacity.
    \item {Database Performance} – Game state lookups and historical queries must be efficient for real-time and replay functionality.
    \item {Timeframe} – The project must be completed within the allocated time frame.
    \item {Browser Compatibility} – The web interface must function across major browsers (Chrome, Firefox, Safari, Edge).
\end{itemize}

\subsection{Assumptions}\label{subsec:assumptions}
\begin{itemize}
    \item {Game rules compliance} – The system assumes human players and \AI{} agents will adhere to official game rules and employ valid gameplay.
    \item {Network Reliability} – The system assumes the network connection will be reliable enough for web-based gameplay and API communication.
    \item {Device Reliability} – The system assumes the user's device and browser will function properly without crashes or interruptions.
    \item {Simulator Accuracy} – The system assumes the Catanatron simulator accurately represents game state transitions and rule enforcement.
    \item {Model Stability} – The system assumes trained \RL{} models will remain stable and valid between training sessions and versions.
\end{itemize}

\subsection{Effects}\label{subsec:effects}
\begin{itemize}
    \item {Player decision support} – The \AI{} provides move suggestions, affecting the decisions players make in real time.
    \item {Learning and adaptation} – The \RL{} agent improves over time, indirectly affecting the level of challenge and advice for players.
    \item {Post-game analysis} – Feedback and suggestions might influence how players approach future games.
    \item {Device usage} – The system uses computational resources on player devices or servers for inference and visualization.
    \item {Game pacing} – Real-time suggestions could speed up or slow down the flow of the game.
\end{itemize}

\subsection{Invariants}\label{subsec:invariants}
\begin{itemize}
    \item The total number of roads per player, including those on the board and in hand, remains exactly 15.
    \item The total number of settlements per player, including those on the board and in hand, remains exactly 5.
    \item The total number of cities per player, including those on the board and in hand, remains exactly 4.
    \item The total number of resource cards of each type remains exactly 95.
    \item The total number of development cards of each type in the game remains exactly 25.
    \item The player turn order remains consistent throughout the game.
\end{itemize}


\subsection{Standards and Legal/Regulatory Factors}
We will follow the following styling standards:
\begin{itemize}
    \item \textbf{PEP 8 (Python Enhancement Proposal 8)} – Defines conventions for Python code style to ensure readability and maintainability[9].
    \item \textbf{Google Style Guide} – Coding conventions for consistent formatting, for use with JavaScript/React[8].
\end{itemize}

Additionally, we shall abide by the following legal and regulatory factors:
\begin{itemize}
    \item \textbf{Intellectual Property:}
    \emph{Catan} is a registered trademark owned by Catan GmbH. The system will not reproduce or distribute copyrighted materials, game rules, or artwork without permission.

    \item \textbf{Open-Source Software Licenses:}
    All third-party libraries (e.g., OpenCV[11], YOLOv9[12], PyTorch) will be used under their respective open-source licenses (Apache 2.0, MIT, or BSD). We shall ensure compliance with redistribution and modification terms.

    \item \textbf{Data Privacy:}
    No personally identifiable information shall be collected.

    \item \textbf{Ethical \AI{} Considerations:}
    The system follows responsible \AI{} principles, including transparency, fairness, and non-deceptive behavior. It will not make decisions that affect users beyond the game environment.
\end{itemize}

\subsection*{Environmental Requirements}
\addcontentsline{toc}{subsection}{Environmental Requirements}

\begin{table}[h!]
    \centering
    \caption{Environment Requirements }
    \label{tab:nfr}
    \begin{tabular}{|c|p{8.5cm}|>{\centering\arraybackslash}p{3.5cm}|}
    \hline
    \textbf{Label} & \textbf{Requirement} \\
    \hline
    NFR.E.1 & System shall be installable and fully operational on Windows 10+. \label{NFR.E.1} \\
    \hline
    NFR.E.2 & Complete system installation shall take no more than 15 minutes. \label{NFR.E.2} \\
    \hline
    NFR.E.3 & System shall compile successfully on available GPU/CPU resources. \label{NFR.E.3} \\
    \hline
    NFR.E.4 & System shall provide \AI{} recommendations within 5 seconds. \label{NFR.E.4} \\
    \hline
    NFR.E.5 & Python code shall pass PEP8 [9] style checks. \label{NFR.E.5} \\
    \hline
    NFR.E.6 & All JavaScript/React code shall pass Google Style Guide[8] checks. \label{NFR.E.6} \\
    \hline
    NFR.E.7 & The total number of roads per player shall remain exactly 15. \label{NFR.E.7} \\
    \hline
    NFR.E.8 & The total number of settlements per player shall remain exactly 5. \label{NFR.E.8} \\
    \hline
    NFR.E.9 & The total number of cities per player shall remain exactly 4. \label{NFR.E.9} \\
    \hline
    NFR.E.10 & The total number of resource cards of each type shall remain exactly. \label{NFR.E.10} \\
    \hline
    NFR.E.11 & The total number of development cards shall remain exactly. \label{NFR.E.11} \\
    \hline
    NFR.E.12 & Player turn order shall remain consistent throughout the game. \label{NFR.E.12} \\
    \hline
    NFR.E.13 & System shall not reproduce or distribute copyrighted materials. \label{NFR.E.13} \\
    \hline
    NFR.E.14 & System shall not use any trademarked assets of \emph{Catan{}}. \label{NFR.E.14} \\
    \hline
    NFR.E.15 & System shall not collect personally identifiable information. \label{NFR.E.15} \\
    \hline
    \end{tabular}
\end{table}

    
    
\newpage{}




\phantomsection
\section*{System}\label{sec:srs-system}
\addcontentsline{toc}{section}{System}
\renewcommand{\thesubsection}{S.\arabic{subsection}}
\renewcommand{\theHsubsection}{S.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Components}\label{subsec:components}
The system is separated into a list of major components:

\begin{itemize}
    \item Game Simulation Engine: The Python-based Catanatron library that simulates the complete game state, rules, and mechanics for both training and gameplay.

    \item Reinforcement Learning Agent (PPO): The trained PPO model capable of making strategic decisions in \emph{\Catan{}} games through learned policy and value functions.

    \item \Elo{} League System: A competitive rating infrastructure that maintains Elo ratings for trained model snapshots, baseline opponents (random, value function), and provides dynamic opponent selection. Handles rating updates based on match outcomes and manages league member storage and pruning.

    \item Curriculum Learning Manager: A system for managing progressive training phases with configurable rule variations (e.g., lower victory points, disabled actions), advancement thresholds based on metrics, and phase tracking across training runs.

    \item Game State Manager: The component responsible for maintaining and synchronizing the current game state throughout gameplay, accessible to both the \AI{} agent and the user interface.

    \item Backend API Server: Flask-based REST API that handles game logic, state management, Elo rating queries, curriculum phase management, user requests, and communicates with the frontend.

    \item User Interface: React/TypeScript-based web interface providing interactive board visualization, game controls, replay functionality, dynamic opponent/difficulty selection via Elo ratings, and strategic analysis displays.

    \item Game State Database: PostgreSQL database for persisting game states, player profiles, match results, Elo ratings, curriculum progress, and historical data for replay and analysis.

    \item Analysis Module: MCTS-based or heuristic-based evaluation component providing strategic insights such as win probability at each game state.

    \item Model Storage and Versioning: Persistent storage for trained \RL{} agent models with versioning, checkpoint management, and Elo rating association for easy retrieval of specific model versions.

    \item Training Pipeline: Orchestration system for curriculum-based training with Elo league integration, managing phase transitions, opponent selection for self-play, and logging/tracking training metrics.
\end{itemize}


\subsection{Functionality}\label{subsec:functionality}


\textbf{Functional Requirements}

\subsubsection{Computer Vision Model}

\textbf{Implementation Status: NOT IMPLEMENTED (Out of Scope)}

The original vision for a computer vision system to observe physical board states has been descoped from the current implementation. The following requirements are listed for historical reference and future development:

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.1.1}\textbf{FR.S.1.1 (DEFERRED)} Process live or captured camera input to detect board elements, player actions, and resource placements.
  \item \label{FR.S.1.2}\textbf{FR.S.1.2 (DEFERRED)} Translate visual features into structured \GameState{} data for the Game State Manager.
  \item \label{FR.S.1.3}\textbf{FR.S.1.3 (DEFERRED)} Detect and correct inconsistencies or occlusions in visual recognition.
  \item \label{FR.S.1.4}\textbf{FR.S.1.4 (DEFERRED)} Calibrate dynamically for lighting, camera angle, and board orientation.
  \item \label{FR.S.1.5}\textbf{FR.S.1.5 (DEFERRED)} Provide visual diagnostics and confidence metrics for detected states.
\end{itemize}

\subsubsection{Reinforcement Learning Environment}

\begin{itemize}
  \item \label{FR.S.2.1}\textbf{FR.S.2.1} Simulate the game rules, move logic, and state transitions consistent with the official \emph{\Catan{}} rule set.
  \item \label{FR.S.2.2}\textbf{FR.S.2.2} Allow the \AI{} model to perform self-play or interact with recorded game states for training.
  \item \label{FR.S.2.3}\textbf{FR.S.2.3} Provide feedback in the form of rewards, penalties, or success metrics for learning.
  \item \label{FR.S.2.4}\textbf{FR.S.2.4} Support batch and real-time evaluation modes for model benchmarking.
  \item \label{FR.S.2.5}\textbf{FR.S.2.5} Interface seamlessly with the Game State Manager and \AI{} model.
\end{itemize}


\subsubsection{AI Model}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.3.1}\textbf{FR.S.3.1} Analyze the digital \GameState{} to predict optimal player strategies.
  \item \label{FR.S.3.2}\textbf{FR.S.3.2} Evaluate potential moves based on resource availability, player position, and opponent behavior.
  \item \label{FR.S.3.3}\textbf{FR.S.3.3} Adapt dynamically to changing game conditions through curriculum-guided reinforcement learning.
  \item \label{FR.S.3.4}\textbf{FR.S.3.4} Provide move recommendations with confidence scores and textual reasoning.
  \item \label{FR.S.3.5}\textbf{FR.S.3.5} Integrate with the Reinforcement Learning Environment for continuous improvement.
\end{itemize}

\subsubsection{\Elo{} League System}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.3.6}\textbf{FR.S.3.6} Maintain Elo ratings for all trained model snapshots and baseline opponents.
  \item \label{FR.S.3.7}\textbf{FR.S.3.7} Update Elo ratings based on match outcomes between league members using the standard Elo formula.
  \item \label{FR.S.3.8}\textbf{FR.S.3.8} Support dynamic opponent selection by matching players to Elo-rated opponents within their skill range.
  \item \label{FR.S.3.9}\textbf{FR.S.3.9} Provide temperature-based sampling for opponent selection to balance challenge and feasibility.
  \item \label{FR.S.3.10}\textbf{FR.S.3.10} Manage league member storage and implement pruning strategies to maintain league size within reasonable bounds.
  \item \label{FR.S.3.11}\textbf{FR.S.3.11} Expose league standings and member statistics through API endpoints for user interface display.
\end{itemize}

\subsubsection{\CurriculumLearning{} Manager}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.3.12}\textbf{FR.S.3.12} Define and manage curriculum phases with configurable rule variations (e.g., victory point targets, disabled action types).
  \item \label{FR.S.3.13}\textbf{FR.S.3.13} Automatically advance to the next curriculum phase based on metric thresholds and minimum episode requirements.
  \item \label{FR.S.3.14}\textbf{FR.S.3.14} Support optional cycling back to earlier phases or continuous training through the same phase.
  \item \label{FR.S.3.15}\textbf{FR.S.3.15} Log curriculum phase transitions and training metrics for analysis and debugging.
  \item \label{FR.S.3.16}\textbf{FR.S.3.16} Integrate curriculum phases with Elo league opponent selection during training.
\end{itemize}

\subsubsection{User Interface}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.4.1}\textbf{FR.S.4.1} Provide an interactive, real-time visualization of the \emph{\Catan{}} board and current \GameState{}.
  \item \label{FR.S.4.2}\textbf{FR.S.4.2} Display player moves, dice rolls, and resource changes immediately after occurrence.
  \item \label{FR.S.4.3}\textbf{FR.S.4.3} Enable player interactions such as building, trading, and ending turns.
  \item \label{FR.S.4.4}\textbf{FR.S.4.4} Present \AI{}-generated move recommendations clearly, with visual highlighting or overlays.
  \item \label{FR.S.4.5}\textbf{FR.S.4.5} Support desktop and mobile layouts for accessibility and responsiveness.
  \item \label{FR.S.4.6}\textbf{FR.S.4.6} Log user interactions and decisions for post-game analysis.
  \item \label{FR.S.4.7}\textbf{FR.S.4.7} Display Elo ratings and league standings for informed opponent selection.
  \item \label{FR.S.4.8}\textbf{FR.S.4.8} Allow users to filter opponents by difficulty level or select specific opponents from the league.
\end{itemize}


\subsubsection{Game State Database}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.5.1}\textbf{FR.S.5.1} Store complete and consistent records of all ongoing and past \emph{\Catan{}} games.
  \item \label{FR.S.5.2}\textbf{FR.S.5.2} Maintain player profiles, scores, resource inventories, and game metadata.
  \item \label{FR.S.5.3}\textbf{FR.S.5.3} Support efficient read and write operations for real-time synchronization.
  \item \label{FR.S.5.4}\textbf{FR.S.5.4} Ensure data persistence across sessions and support recovery after interruptions.
  \item \label{FR.S.5.5}\textbf{FR.S.5.5} Provide structured access to historical game data for training or replay features.
  \item \label{FR.S.5.6}\textbf{FR.S.5.6} Maintain Elo ratings and match history for all league members.
  \item \label{FR.S.5.7}\textbf{FR.S.5.7} Track curriculum phase progress and training metrics across runs.
\end{itemize}


\subsubsection{Image Queue}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.6.1}\textbf{FR.S.6.1} Enable reliable data exchange between the User Interface, Game State Manager, \AI{} model, and Database.
  \item \label{FR.S.6.2}\textbf{FR.S.6.2} Support both synchronous and asynchronous message-passing mechanisms.
  \item \label{FR.S.6.3}\textbf{FR.S.6.3} Ensure low-latency updates to maintain real-time synchronization of states.
  \item \label{FR.S.6.4}\textbf{FR.S.6.4} Provide secure authentication, authorization, and encryption for all transmitted data.
\end{itemize}

\subsubsection{Game State Manager}

\textbf{Functional Requirements}

\begin{itemize}
  \item \label{FR.S.7.1}\textbf{FR.S.7.1} Ensure state synchronization so the digital model matches the physical game at all times.
  \item \label{FR.S.7.2}\textbf{FR.S.7.2} Track player assets such as settlements, cities, roads, and resources accurately.
  \item \label{FR.S.7.3}\textbf{FR.S.7.3} Record turn and dice data to enable game history tracking and replay functionality.
  \item \label{FR.S.7.4}\textbf{FR.S.7.4} Automatically update the system to reflect player actions and maintain consistency.
  \item \label{FR.S.7.5}\textbf{FR.S.7.5} Provide a query interface for structured access to current board and player information.
\end{itemize}


\subsubsection{Non-Functional Requirements}

\begin{itemize}
  \item \label{NFR.S.1}\textbf{NFR.S.1} \textbf{Scalability:} Support multiple concurrent games without
        performance degradation.
  \item \label{NFR.S.2}\textbf{NFR.S.2} \textbf{Usability:} Provide an intuitive interface accessible to users
        with minimal training.
  \item \label{NFR.S.3}\textbf{NFR.S.3} \textbf{Maintainability:} Codebase should follow modular design for easy
        updates and debugging.
  \item \label{NFR.S.4}\textbf{NFR.S.4} \textbf{Installability:} Ensure compatibility across major operating systems
        and browsers.
  \item \label{NFR.S.5}\textbf{NFR.S.5} \textbf{Data Integrity:} Prevent data corruption through validation and
        transactional consistency.
  \item \label{NFR.S.6}\textbf{NFR.S.6} \textbf{Availability:} Recover from system failures automatically within
        one minute of downtime.
\end{itemize}


\subsection{Interfaces}\label{subsec:interfaces}

No external APIs or hardware interfaces are required for the system.

\subsection{Normal Operation}\label{subsec:normal-operation}
\begin{itemize}
    \item User initiates a game session through the web interface.
    \item Backend initializes a game state via Catanatron and loads the selected \AI{} model.
    \item The \AI{} agent and player alternate turns while the UI reflects state updates in real time.
    \item Game state and results are persisted for replay and analysis.
\end{itemize}

\subsection{Undesired Event Handling}\label{subsec:undesired-event-handling}
\begin{itemize}
    \item {Model Load Failure} – System returns a clear error message and falls back to a baseline opponent if available.
    \item {Simulation Error} – Game session terminates gracefully with logs preserved for debugging.
    \item {UI Disconnect} – Session state is persisted; user can reconnect and resume from the last saved state.
    \item {Invalid Move Request} – Backend rejects the move and returns valid action options.
\end{itemize}

\subsection{Detailed Usage Scenarios}\label{subsec:detailed-usage-scenarios}

\noindent\textbf{Use Case Name:} Human vs \RL{} Agent Gameplay Session

\noindent\textbf{Primary Actor:} Human Player

\noindent\textbf{Stakeholders and Interests:}
\begin{itemize}
    \item Human Player: Wants a challenging and fair game experience.
    \item Developer: Tests agent's usability and robustness against non-scripted behavior.
    \item Society: General public interested in board game strategy.
\end{itemize}

\noindent\textbf{Preconditions:}
\begin{itemize}
    \item User interface allows human-agent interaction.
    \item \RL{} agent is loaded and operational.
\end{itemize}

\noindent\textbf{Postconditions (Success Guarantees):}
\begin{itemize}
    \item Game runs to completion with all moves recorded.
    \item Agent responds to human actions appropriately.
\end{itemize}

\noindent\textbf{Postconditions (Failure Guarantees):}
\begin{itemize}
    \item If crash occurs, session ends with error logs.
\end{itemize}

\noindent\textbf{Main Success Scenario (Basic Flow):}
\begin{itemize}
    \item Human starts a new game session.
    \item Game environment is initialized.
    \item Player and \RL{} agent alternate turns.
    \item Agent observes player actions and adapts accordingly.
    \item Game concludes, and results are displayed.
\end{itemize}

\noindent\textbf{Justification:}

Testing the agent against human input ensures it handles unpredictable behaviors and can offer a meaningful challenge. This scenario is also key for validating real-world deployment feasibility.

\vspace{1em}

\noindent\textbf{Use Case Name:} \Elo{}-Based Opponent Selection for Skill-Matched Play

\noindent\textbf{Primary Actor:} Human Player (any skill level)

\noindent\textbf{Stakeholders and Interests:}
\begin{itemize}
    \item Novice Players: Want opponents that match their skill level for a fair learning experience.
    \item Intermediate Players: Seek progressively challenging opponents to improve their gameplay.
    \item Competitive Players: Want access to the highest-rated opponents for maximum challenge.
    \item Developers: Validate that the Elo league system provides appropriate skill-based matchmaking.
\end{itemize}

\noindent\textbf{Preconditions:}
\begin{itemize}
    \item Elo league system is populated with trained model snapshots and baseline opponents.
    \item User interface displays available opponents with their Elo ratings.
    \item Player has an estimated or tracked Elo rating (or can select a difficulty preference).
\end{itemize}

\noindent\textbf{Postconditions (Success Guarantees):}
\begin{itemize}
    \item Player is matched with an opponent within their skill range.
    \item Game completes with appropriate challenge level.
    \item Elo ratings are updated based on match outcome (if applicable).
\end{itemize}

\noindent\textbf{Main Success Scenario (Basic Flow):}
\begin{itemize}
    \item Player selects "Play vs AI" from the main menu.
    \item System displays Elo league standings with opponent options.
    \item Player either: (a) enters their skill level or Elo rating, or (b) selects a specific opponent from the league.
    \item System recommends suitable opponents based on Elo proximity using temperature-based sampling.
    \item Player confirms opponent selection.
    \item Game initializes with the selected Elo-rated opponent.
    \item After game completion, Elo ratings are updated if player is tracked in the league.
\end{itemize}

\noindent\textbf{Justification:}

The Elo-based opponent selection ensures that players of all skill levels can enjoy appropriately challenging games. This scenario validates the core value proposition: a bot that any level Catan player can play against. It also demonstrates software engineering principles for implementing skill-based matchmaking in AI systems.



\subsection{Prioritization}\label{subsec:prioritization}
M → Must have
• S → Should have
• C → Could have
• W → Won't have 

\vspace{1em}

\subsubsection*{Computer Vision Model}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.1.1]{FR.S.1.1} & Visual Input Processing & M &
\parbox[t]{4cm}{Processes live or recorded camera feeds to identify board elements, player actions, and resources.} &
2025-10-27 \\
\hline
\hyperref[FR.S.1.2]{FR.S.1.2} & Feature-to-State Translation & M &
\parbox[t]{4cm}{Converts detected visual features into structured \GameState{} data for synchronization with the game manager.} &
2025-10-27 \\
\hline
\hyperref[FR.S.1.3]{FR.S.1.3} & Error Detection and Correction & S &
\parbox[t]{4cm}{Identifies and compensates for occlusions or misdetections to preserve recognition accuracy.} &
2025-10-27 \\
\hline
\hyperref[FR.S.1.4]{FR.S.1.4} & Dynamic Calibration & S &
\parbox[t]{4cm}{Adapts to variations in lighting, camera position, and board orientation to maintain performance.} &
2025-10-27 \\
\hline
\hyperref[FR.S.1.5]{FR.S.1.5} & Diagnostic Feedback & C &
\parbox[t]{4cm}{Provides visual debugging output and confidence metrics to assess detection reliability.} &
2025-10-27 \\
\hline
\end{tabular}

\vspace{1em}

\subsubsection*{Reinforcement Learning Environment}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.2.1]{FR.S.2.1} & Rule Simulation & M &
\parbox[t]{4cm}{Simulates game rules, move logic, and state transitions consistent with official \emph{\Catan{}} rules.} &
2025-11-06 \\
\hline
\hyperref[FR.S.2.2]{FR.S.2.2} & AI Training Integration & M &
\parbox[t]{4cm}{Enables \AI{} model to perform self-play or interact with recorded game states for training.} &
2025-11-06 \\
\hline
\hyperref[FR.S.2.3]{FR.S.2.3} & Feedback Mechanism & S &
\parbox[t]{4cm}{Provides feedback such as rewards, penalties, or success metrics to guide learning.} &
2025-11-06 \\
\hline
\hyperref[FR.S.2.4]{FR.S.2.4} & Evaluation Modes & S &
\parbox[t]{4cm}{Supports both batch and real-time evaluation modes for \AI{} benchmarking.} &
2025-11-06 \\
\hline
\hyperref[FR.S.2.5]{FR.S.2.5} & System Integration & M &
\parbox[t]{4cm}{Interfaces seamlessly with the Game State Manager and \AI{} model for synchronization.} &
2025-11-06 \\
\hline
\end{tabular}
vspace{1em}



\subsubsection*{\AI{} Model}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.3.1]{FR.S.3.1} & Strategy Prediction & M &
\parbox[t]{4cm}{Analyzes the \GameState{} to suggest optimal player moves.} &
2025-12-06 \\
\hline
\hyperref[FR.S.3.2]{FR.S.3.2} & Adaptive Learning & S &
\parbox[t]{4cm}{Improves predictions through curriculum-guided training.} &
2025-12-06 \\
\hline
\hyperref[FR.S.3.3]{FR.S.3.3} & Confidence Scoring & C &
\parbox[t]{4cm}{Displays confidence levels for \AI{} recommendations.} &
2025-12-12 \\
\hline
\hyperref[FR.S.3.4]{FR.S.3.4} & Integration with Twin & M &
\parbox[t]{4cm}{Maintains synchronized data exchange with the digital twin.} &
2025-12-18 \\
\hline
\end{tabular}

\vspace{1em}

\subsubsection*{\Elo{} League System}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.3.6]{FR.S.3.6} & Elo Rating Maintenance & M &
\parbox[t]{4cm}{Maintains accurate Elo ratings enabling skill-based matchmaking.} &
2026-01-15 \\
\hline
\hyperref[FR.S.3.7]{FR.S.3.7} & Rating Updates & M &
\parbox[t]{4cm}{Updates ratings based on match outcomes using standard Elo formula.} &
2026-01-15 \\
\hline
\hyperref[FR.S.3.8]{FR.S.3.8} & Dynamic Opponent Selection & M &
\parbox[t]{4cm}{Enables players to select opponents matched to their skill level.} &
2026-01-22 \\
\hline
\hyperref[FR.S.3.9]{FR.S.3.9} & Temperature-based Sampling & S &
\parbox[t]{4cm}{Balances challenge and fairness in opponent selection.} &
2026-01-22 \\
\hline
\hyperref[FR.S.3.10]{FR.S.3.10} & League Pruning & S &
\parbox[t]{4cm}{Maintains reasonable league size while keeping strong models.} &
2026-01-29 \\
\hline
\hyperref[FR.S.3.11]{FR.S.3.11} & League API Endpoints & M &
\parbox[t]{4cm}{Exposes league data for UI display and analysis.} &
2026-02-01 \\
\hline
\end{tabular}

\vspace{1em}

\subsubsection*{\CurriculumLearning{} Manager}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.3.12]{FR.S.3.12} & Phase Management & M &
\parbox[t]{4cm}{Defines and manages curriculum phases with configurable complexity.} &
2026-01-08 \\
\hline
\hyperref[FR.S.3.13]{FR.S.3.13} & Automatic Advancement & M &
\parbox[t]{4cm}{Progresses through phases based on performance metrics.} &
2026-01-15 \\
\hline
\hyperref[FR.S.3.14]{FR.S.3.14} & Phase Cycling & S &
\parbox[t]{4cm}{Supports flexible phase management strategies.} &
2026-01-22 \\
\hline
\hyperref[FR.S.3.15]{FR.S.3.15} & Metric Logging & S &
\parbox[t]{4cm}{Records phase transitions for analysis and debugging.} &
2026-01-29 \\
\hline
\hyperref[FR.S.3.16]{FR.S.3.16} & League Integration & M &
\parbox[t]{4cm}{Integrates curriculum phases with Elo league during training.} &
2026-02-01 \\
\hline
\end{tabular}

\vspace{1em}

\subsubsection*{User Interface}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.4.1]{FR.S.4.1} & Interactive Board View & M &
\parbox[t]{4cm}{Displays real-time board updates and player actions clearly.} &
2025-11-06 \\
\hline
\hyperref[FR.S.4.2]{FR.S.4.2} & Action Controls & M &
\parbox[t]{4cm}{Allows players to build, trade, and manage turns easily.} &
2025-11-06 \\
\hline
\hyperref[FR.S.4.3]{FR.S.4.3} & Multi-Platform Support & S &
\parbox[t]{4cm}{Ensures compatibility with desktop and mobile devices.} &
2025-11-06 \\
\hline
\hyperref[FR.S.4.4]{FR.S.4.4} & Visual Indicators & S &
\parbox[t]{4cm}{Shows player resources, turns, and notifications for clarity.} &
2025-11-06 \\
\hline
\hyperref[FR.S.4.5]{FR.S.4.5} & \AI{} Suggestion Display & C &
\parbox[t]{4cm}{Provides a clear interface for \AI{} recommendations and feedback.} &
2025-11-06 \\
\hline
\hyperref[FR.S.4.7]{FR.S.4.7} & Elo Display & M &
\parbox[t]{4cm}{Shows Elo ratings and league standings for opponent selection.} &
2026-01-29 \\
\hline
\hyperref[FR.S.4.8]{FR.S.4.8} & Opponent Filtering & M &
\parbox[t]{4cm}{Allows filtering opponents by difficulty or direct selection.} &
2026-02-01 \\
\hline
\end{tabular}

\vspace{1em}

\subsubsection*{\GameState{} Database}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.5.1]{FR.S.5.1} & Persistent Storage & M &
\parbox[t]{4cm}{Maintains all game and player data across sessions
and restarts.} &
2025-10-22 \\
\hline
\hyperref[FR.S.5.2]{FR.S.5.2} & Fast Query Access & S &
\parbox[t]{4cm}{Retrieves current state information efficiently
during gameplay.} &
2025-10-22 \\
\hline
\hyperref[FR.S.5.3]{FR.S.5.3} & Data Integrity & M &
\parbox[t]{4cm}{Prevents corruption and ensures consistency between
tables.} &
2025-10-24 \\
\hline
\hyperref[FR.S.5.4]{FR.S.5.4} & Historical Logging & C &
\parbox[t]{4cm}{Stores previous games for analytics and replay
purposes.} &
2025-10-27 \\
\hline
\hyperref[FR.S.5.5]{FR.S.5.5} & Integration with Twin & M &
\parbox[t]{4cm}{Synchronizes database updates with \DigitalTwin{}
actions.} &
2025-10-30 \\
\hline
\hyperref[FR.S.5.6]{FR.S.5.6} & Elo Rating Storage & M &
\parbox[t]{4cm}{Maintains Elo ratings and match history for league members.} &
2026-01-29 \\
\hline
\hyperref[FR.S.5.7]{FR.S.5.7} & Curriculum Progress Tracking & S &
\parbox[t]{4cm}{Tracks curriculum phase progress and training metrics.} &
2026-02-01 \\
\hline
\end{tabular}

\vspace{1em}

\subsubsection*{Image Queue}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.6.1]{FR.S.6.1} & Real-Time Data Exchange & M &
\parbox[t]{4cm}{Ensures components remain synchronized during
gameplay.} &
2025-11-09 \\
\hline
\hyperref[FR.S.6.2]{FR.S.6.2} & Security and Encryption & S &
\parbox[t]{4cm}{Protects messages and user data from unauthorized
access.} &
2025-11-12 \\
\hline
\hyperref[FR.S.6.3]{FR.S.6.3} & Error Handling & S &
\parbox[t]{4cm}{Handles message loss or disconnection through
recovery methods.} &
2025-11-13 \\
\hline
\hyperref[FR.S.6.4]{FR.S.6.4} & Scalability & C &
\parbox[t]{4cm}{Allows new modules to connect without major system
changes.} &
2025-11-14 \\
\hline
\end{tabular}

\subsubsection*{Game State Manager}

\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{ID} & \textbf{Requirement Name} & \textbf{Priority} &
\textbf{Reasoning} & \textbf{Date} \\
\hline
\hyperref[FR.S.7.1]{FR.S.7.1} & State Synchronization & M &
\parbox[t]{4cm}{Ensures the digital model matches the physical game
at all times.} &
2025-10-27 \\
\hline
\hyperref[FR.S.7.2]{FR.S.7.2} & Player Asset Tracking & M &
\parbox[t]{4cm}{Tracks settlements, cities, roads, and resources
accurately.} &
2025-10-27 \\
\hline
\hyperref[FR.S.7.3]{FR.S.7.3} & Turn and Dice Recording & S &
\parbox[t]{4cm}{Records turn data for game history and replay
features.} &
2025-10-27 \\
\hline
\hyperref[FR.S.7.4]{FR.S.7.4} & Automatic Updates & M &
\parbox[t]{4cm}{Reflects player actions immediately to maintain
consistency.} &
2025-10-27 \\
\hline
\hyperref[FR.S.7.5]{FR.S.7.5} & Query Interface & S &
\parbox[t]{4cm}{Provides structured access to current board and
player information.} &
2025-10-27 \\
\hline
\end{tabular}

\vspace{1em}
\subsection{Verification and Acceptance Criteria}\label{subsec:verification-and-acceptance-criteria}

\noindent\textbf{Validation Overview:}

To validate compatibility, simulation interoperability testing will be performed. The \RL{} agent will be tested in multiple versions of the environment. The validation of the functional requirements outlined for the RLCatan agent will be conducted throughout the development lifecycle, with a strong focus on acceptance testing and simulation-based evaluation.

Early validation efforts will involve the use of simplified \emph{\Catan{}} game environments and prototypes of the \RL{} agent's architecture. Key stakeholders, such as \AI{} researchers, game designers, and domain experts, will participate in these early-stage reviews.

\vspace{1em}

\noindent\textbf{Unit Testing:}

Unit testing will be employed to verify the correctness of individual components, including:
\begin{itemize}
    \item State representation
    \item Reward computation
    \item Policy/action selection mechanisms
\end{itemize}

By isolating and testing these components, the development team can catch logical and algorithmic errors early, ensuring reliable behavior in the broader simulation environment.

\noindent\textbf{Validation of Non-Functional Requirements:}

\noindent\textbf{Cross-Platform Environment Compatibility:}

The agent will be tested in different \emph{\Catan{}} environments (e.g., Python implementations, or standardized OpenAI Gym-style interfaces) to ensure stable and consistent behavior across frameworks.

\noindent\textbf{Real-Time Decision Making:}

To validate real-time decision-making capabilities:
\begin{itemize}
    \item Latency profiling and timing tests will be conducted.
    \item Verifying that the agent makes decisions within predefined time limits during gameplay, particularly in competitive or interactive scenarios.
    \item Continuous integration (CI) pipelines will ensure model updates or algorithm changes do not degrade response time.
\end{itemize}

\noindent\textbf{Strategic Planning and Reward Optimization:}

To ensure the \RL{} agent optimizes for long-term goals (e.g., winning the game rather than maximizing short-term resource gain):
\begin{itemize}
    \item Longitudinal performance testing will be conducted.
    \item Thousands of game simulations will be run to track:
    \begin{itemize}
        \item Policy convergence
        \item Learning curves
        \item Win rates across different strategies and game configurations
    \end{itemize}
\end{itemize}

\noindent\textbf{Data Privacy and Ethical Compliance:}

Although the \RL{} agent may not handle personal data directly:
\begin{itemize}
    \item Ethical compliance testing will ensure training data (e.g., human gameplay data) respects privacy guidelines.
    \item No identifiable user data will be stored or processed without consent.
    \item Data source validation and usage audits will ensure compliance with academic and industry standards.
\end{itemize}

\noindent\textbf{State and Action Accuracy:}

To validate the agent’s perception and behavior:
\begin{itemize}
    \item Sanity tests and assertion-based checks will be implemented.
    \item Ensure the agent:
    \begin{itemize}
        \item Acts according to official game rules
        \item Respects legal action constraints
        \item Maintains valid internal state representations
    \end{itemize}
\end{itemize}

\noindent\textbf{Scalability and Training Stability:}

To test the system’s ability to handle increased complexity:
\begin{itemize}
    \item Performance testing such as:
    \begin{itemize}
        \item Load testing
        \item Stress testing
        \item Distributed training simulations
    \end{itemize}
    \item Ensure the training pipeline can support large-scale experiments without crashing.
    \item Validate that the agent remains stable under diverse training scenarios.
\end{itemize}

\subsection{Formalizations}
\subsubsection{Formalization of the Learning Objective}
\label{sec:formalization}

The \RL{} agent is modeled as a Markov Decision Process (MDP), defined by the tuple:
\[
(S, A, P, R, \gamma)
\]
where:
\begin{itemize}
    \item $S$ is the set of all possible game states (e.g., the current board configuration, player hands, road/settlement locations, etc.)
    \item $A$ is the set of actions available to the agent (e.g., build, trade, play development cards, etc.)
    \item $P(s' \mid s, a)$ is the transition probability between states
    \item $R(s, a)$ is the scalar reward obtained after performing action $a$ in state $s$
    \item $\gamma \in [0, 1]$ is the discount factor applied to future rewards
\end{itemize}

The agent seeks a policy $\pi(a \mid s)$ that maximizes the expected discounted return:
\[
\pi^* = \arg\max_{\pi} \mathbb{E}_{\pi}\left[\sum_{t=0}^{\infty} \gamma^t R(s_t, a_t)\right]
\]

In the deep reinforcement learning (DRL) formulation used by this project, the policy $\pi(a \mid s)$ or the action-value function $Q(s, a)$ is represented by a deep neural network parameterized by weights $\theta$. The objective is then to learn $\theta$ that minimizes the temporal-difference loss:
\[
L(\theta) = \mathbb{E}_{(s, a, r, s')} \left[ \left( r + \gamma \max_{a'} Q_{\theta^-}(s', a') - Q_{\theta}(s, a) \right)^2 \right]
\]
where $Q_{\theta^-}$ denotes a target network with fixed parameters for stability during training.

The input $s$ to the neural network encodes the current game state (board configuration, available resources, and player status), and the output $Q_{\theta}(s, a)$ estimates the expected long-term reward for each possible action.

\subsubsection{Z-Notation Formalization of Game Rules}
\label{sec:math-formalization}

This section provides a partial formalization of the rules and conditions of \textit{Settlers of Catan} using \textbf{Z notation}.
The purpose is to precisely define the relationships between the game state variables, actions, and constraints used by the reinforcement learning agent. \newline

\textbf{Basic Types and Sets}

We define the primitive types representing fundamental game elements:

\[
[PLAYER, RESOURCE, TILE, NODE, EDGE]
\]

Where:
\begin{itemize}
    \item \texttt{PLAYER} represents each player in the game.
    \item \texttt{RESOURCE} $\in \{\text{Brick}, \text{Lumber}, \text{Wool}, \text{Grain}, \text{Ore}\}$.
    \item \texttt{TILE}, \texttt{NODE}, and \texttt{EDGE} correspond to the spatial elements of the board. \newline
\end{itemize}

\textbf{Board Schema}

\begin{schema}{Board}
    tiles: \mathcal{P} TILE \\
    nodes: \mathcal{P} NODE \\
    edges: \mathcal{P} EDGE \\
    tileNodes: TILE \fun \mathcal{P} NODE \\  % Each tile touches some nodes
    tileEdges: TILE \fun \mathcal{P} EDGE \\  % Each tile touches some edges
    nodeTiles: NODE \fun \mathcal{P} TILE    % Each node is adjacent to some tiles
\where
    \forall t: TILE @
        \#(tileNodes(t)) = 6 \land
        \#(tileEdges(t)) = 6
\end{schema}

This schema describes the board, and the relationships between tiles and their edges/nodes. \newline

\textbf{Game State Schema}

\begin{schema}{GameState}
    players: \mathcal{P} PLAYER \\
    resources: PLAYER \fun RESOURCE \pfun \mathbb{N} \\
    roads: PLAYER \fun \mathcal{P} EDGE \\
    settlements: PLAYER \fun \mathcal{P} NODE \\
    turn: PLAYER \\
    diceRoll: \mathbb{N}
    \where
    turn \in players \\
    diceRoll \in 2 \dots 12
\end{schema}


This schema describes the static and dynamic components of a single game state.
The \texttt{turn} variable indicates which player's move is currently being processed. \newline

\textbf{Turn Transition Rule}

\begin{schema}{NextTurn}
    \Delta GameState \\
    nextPlayer?: PLAYER
    \where
    nextPlayer? \in players \\
    turn' = nextPlayer?
\end{schema}


This transition schema expresses that the game moves from one valid state to another by assigning the next player's turn. \newline

\textbf{Resource Distribution Rule}

\begin{schema}{DistributeResources}
    \Delta GameState \\
    rolledNumber?: \mathbb{N}
    \where
    rolledNumber? = diceRoll \\
    \forall p: PLAYER @ resources'(p) = resources(p) + f(p, rolledNumber?)
\end{schema}


Where $f(p, rolledNumber?)$ represents the function mapping dice results to resource gains for player $p$, based on their settlements' positions. \newline

\textbf{Valid Action Schema}

\begin{schema}{ValidAction}
    GameState \\
    action?: ACTION \\
    isValid!: \mathbb{B}
    \where
    (action? = \text{BuildRoad} \implies \text{canAffordRoad(turn)}) \\
    (action? = \text{BuildSettlement} \implies \text{canAffordSettlement(turn)}) \\
    (action? = \text{Trade} \implies \text{tradeValid(turn)}) \\
    isValid! = (action? \in \text{LegalActions(turn)})
\end{schema}


This schema defines the logical constraints under which an action is considered legal in the game state.
Each predicate ensures the acting player has sufficient resources and that the move complies with board and rule constraints.

\newpage{}


\phantomsection
\section*{(P) Project}\label{sec:srs_project}
\addcontentsline{toc}{section}{Project}
\renewcommand{\thesubsection}{P.\arabic{subsection}}
\renewcommand{\theHsubsection}{P.\arabic{subsection}}
\setcounter{subsection}{0}

\subsection{Roles and Personnel}\label{subsec:roles}
\begin{itemize}
    \item {Team Leader (Jake)} – Schedules meetings, coordinates the team, and acts as the primary point of contact with the supervisor and teaching assistant.
    \item {Notetaker (Rebecca)} – Creates agendas, takes meeting notes, and updates the Kanban board to track project progress.
    \item {IT/DevOps (Sunny)} – Manages the GitHub repository, oversees deployment processes, and handles technical and integration issues.
    \item {Researcher (Matthew)} – Locates relevant academic papers and resources, researches unfamiliar topics, and provides insights to guide technical and conceptual understanding.
    \item {Supervisor – Dr. Istvan David} – Provides guidance, technical expertise, and oversight for the project. Offers advice on project scope, architecture, and milestone management.
    \item {Teaching Assistant – Tiago de Moraes Machado} – Provides assistance with course-related questions, clarifications, and support for project development. Acts as a point of contact for feedback and additional resources.
\end{itemize}

\subsection{Imposed Technical Choices}\label{subsec:technicalchoices}
\begin{itemize}
    \item {Programming languages} – Python for backend and \AI{} development; TypeScript/JavaScript with React for frontend implementation.
    \item {\AI{} framework} – Reinforcement learning agent (PPO) trained using Stable Baselines3 and the Catanatron game simulator; compatible with OpenAI Gym.
    \item {Web Backend} – Flask with Flask-CORS for REST API development and server-side game logic.
    \item {Frontend Framework} – React with TypeScript and Vite as the build tool for the web interface.
    \item {Database} – PostgreSQL for game state persistence and historical data storage.
    \item {Containerization} – Docker and Docker Compose for consistent deployment across environments.
    \item {Computer Vision} – (Deferred) Originally planned for OpenCV or YOLOv9; currently out of scope pending future implementation.
    \item {Version control and collaboration} – GitHub for repository management with branching, pull requests, CI/CD pipelines, and Kanban board for task tracking.
    \item {License} – GPL-3.0-or-later for the catanatron library; other dependencies follow their respective open-source licenses.
\end{itemize}

\subsection{Schedule and Milestones}\label{subsec:schedule}
\medskip
The major milestones for our project are as follows:
\begin{table}[htbp]
  \centering
  \begin{tabular}{|l|l|}
  \hline
  \textbf{Milestone} & \textbf{Due Date} \\ \hline
  Team Formed, Project Selected & Sept. 15 \\ \hline
  Problem Statement, POC Plan, Development Plan & Sept. 22 \\ \hline
  Requirements Document \& Hazard Analysis Revision & Oct. 10 \\ \hline
  V\&V Plan Revision & Oct. 27 \\ \hline
  Design Document Revision & Nov. 10 \\ \hline
  Proof of Concept Demonstration & Nov. 17 \\ \hline
  Design Document Revision & Jan. 19 \\ \hline
  Revision 0 Demonstration & Feb. 2 \\ \hline
  V\&V Report \& Extras Revision 0 & March 9 \\ \hline
  Final Demonstration (Revision 1) & March 23 \\ \hline
  EXPO Demonstration & TBA \\ \hline
  Final Documentation (Revision 1) & April 6 \\ \hline
  
  \end{tabular}
  \caption{Project Milestones and Due Dates}
  \label{tab:project-milestones}
  \end{table}

\FloatBarrier

\subsection{Tasks and Deliverables}\label{subsec:tasks}
\begin{table}[htbp]
\centering
\begin{tabular}{|p{3cm}|p{5cm}|p{3cm}|p{2cm}|}
\hline
\textbf{Task} & \textbf{Description / Steps} & \textbf{Deliverable} & \textbf{Due Date} \\ \hline

Code Skeleton Implementation & Create placeholder files and functions for \RL{} agent, \CV{} pipeline, environment interaction, and utilities. & V\&V Plan Revision & Oct. 27 \\ \hline

Initial \RL{} Prototype & Implement a basic \RL{} agent capable of interacting with a simulated environment; ensure it can take actions and receive rewards. & Design Document Revision & Nov. 10 \\ \hline

Environment Integration & Connect \RL{} agent to the simulated game environment; ensure correct observation, action, and reward loop. & Proof of Concept Demonstration & Nov. 17 \\ \hline

Agent Training & Run \RL{} training loops; tune hyperparameters; log and track rewards; iteratively improve performance. & Design Document Revision & Jan. 19 \\ \hline

Testing and Debugging & Test the \RL{} agent in multiple scenarios; fix bugs, improve stability and performance. & Revision 0 Demonstration & Feb. 2 \\ \hline

Computer Vision Integration & Add \CV{} module for real-time perception; ensure agent can process visual input and make decisions based on it. & V\&V Report \& Extras Revision 0 & March 9 \\ \hline

Optimization and Feature Enhancements & Refine reward functions, optimize agent performance, improve decision-making; add optional features like prediction or visualization. & Final Demonstration (Revision 1) & March 23 \\ \hline

Final Integration & Connect the agent to the real-time interface; ensure responsiveness and assistive functionality for players. & EXPO Demonstration & TBA \\ \hline

Validation and Verification & Conduct comprehensive end-to-end testing; ensure correctness, reliability, and real-time performance. & Final Documentation (Revision 1) & April 6 \\ \hline

Code Cleanup and Documentation & Refactor code, remove unnecessary files, write documentation including instructions for running, training, and testing the agent. & Final Documentation (Revision 1) & April 6 \\ \hline

\end{tabular}
\caption{Tasks and Deliverables}
\label{tab:tasks-deliverables}
\end{table}

\FloatBarrier


\subsection{Required Technology Elements}\label{subsec:requiredtech}
\begin{itemize}
    \item {Primary Programming Language} – Python for backend and machine learning components; TypeScript/JavaScript for frontend.
    \item {Game Simulation Library} – Catanatron[10] for complete \emph{\Catan{}} game simulation and rule enforcement.
    \item {Reinforcement Learning Framework} – Stable Baselines3 with PPO algorithm for training and deploying the \AI{} agent.
    \item {Web Framework} – Flask with Flask-CORS for building the REST API backend; React with TypeScript for the user interface.
    \item {Database} – PostgreSQL for persistent game state storage and historical data management.
    \item {Containerization} – Docker and Docker Compose for deployment and environment consistency.
    \item {\CV{} Libraries} – (Deferred) OpenCV and YOLOv9 planned for future computer vision integration.
    \item {Hardware} – GPU recommended for efficient \RL{} model training and inference.
    \item {Version Control} – GitHub for source code management and collaboration.
    \item {Continuous Integration} – GitHub Actions for automated testing and build pipelines.
\end{itemize}

\subsection{Risk and Mitigation Analysis}\label{subsec:risk}
\begin{itemize}
    \item {Risk: \AI{} Fails to Learn Effectively}
    \begin{itemize}
        \item Description: The \AI{} agent may not be able to learn to play \emph{\Catan{}} at a high level due to the game's complexity and stochastic nature.
        \item Mitigation: Regular Elo testing against benchmark opponents to ensure improvement. Proof of concept will demonstrate valid move generation even if performance is limited.
    \end{itemize}

    \item {Risk: User Interface is Not User-Friendly}
    \begin{itemize}
        \item Description: The user interface may not be intuitive or user-friendly for a wider audience.
        \item Mitigation: Conduct user testing sessions, gather feedback, and make iterative improvements.
    \end{itemize}

    \item {Risk: Technical Issues with External Libraries}
    \begin{itemize}
        \item Description: Technical issues may arise with external technologies like Catanatron[10], OpenCV[11], or YOLOv9[12].
        \item Mitigation: Team collaboratively addresses issues as they arise; members are responsible for thorough testing and validation before deployment.
    \end{itemize}

    \item {Risk: Unrealistic Schedule or Workload}
    \begin{itemize}
        \item Description: Tasks may take longer than expected or workload may become unbalanced among team members.
        \item Mitigation: Use GitHub Kanban board to manage tasks and milestones; notetaker updates board; time estimates and reassignment of tasks as needed.
    \end{itemize}
\end{itemize}

\subsection{Requirements Process and Report}\label{subsec:reqprocess}
\begin{itemize}
    \item {Initial Elicitation}: Requirements were gathered from the problem statement developed by the team, in consultation with key stakeholders including the project supervisor.
    \item {Elicitation Plan}:
    \begin{itemize}
        \item Meetings: Weekly team meetings to discuss progress, challenges, and refine requirements; additional meetings as needed.
        \item Communication: Discord server for informal discussions; separate Discord group for formal communication with advisor.
        \item Documentation: Tasks and issues tracked via GitHub Issues with labels, assignments, and templates for consistency.
        \item Process Update: Section updated as project progresses to reflect lessons learned, feedback from requirements document reviews, and revisions.
    \end{itemize}
\end{itemize}

\section*{Safety and Security Requirements}\label{sec:safety-and-security-requirements}

The following safety and security requirements have been ported from our hazard analysis. \newline

\subsection*{Functional Safety Requirements}
\begin{itemize}
    \item FR.Sa.1: The system shall enable users to manually confirm the parsed board state before generating advice.
    \item FR.Sa.2: The system shall provide a resynchronization mechanism (manual correction or re-scan).
    \item FR.Sa.3: The system shall validate all AI-suggested moves against the official rules of Catan before display.
    \item FR.Sa.4: The system shall provide a clear error message if advice cannot be generated.
    \item FR.Sa.5: The system shall ensure current game state is saved correctly before recommending move(s) to the user.
    \item FR.Sa.6: The system shall attempt automatic reconnection at least 3 times before failing.
    \item FR.Sa.7: The system shall visually distinguish the move(s) suggested by AI.
    \item FR.Sa.8: The system shall notify the user in the event board streaming ceases.
    \item FR.Sa.9: The system shall warn the user when incomplete game data is read where possible.
    \item FR.Sa.10: The system shall enable the user to roll back to previous model versions.
    \item FR.Sa.11: The system shall only capture and process game board area, not player faces or personal content.
    \item FR.Sa.12: Iterations of the reinforcement learning environment shall be automatically validated to ensure its simulation dynamics remain consistent with real gameplay conditions. \newline
\end{itemize}

\subsection*{Non-Functional Safety Requirements}
\begin{itemize}
    \item NFR.Sa.1: The system shall ensure advice is displayed within 5 seconds of request.
    \item NFR.Sa.2: The system shall notify the user of connection loss within 5 seconds.
\end{itemize}

\newpage




\begin{landscape}
    \section*{Requirement Dependencies}
    \addcontentsline{toc}{section}{Requirement Dependencies}

    \centering

    \includegraphics[width=1.7\textheight]{requirement_dependency_diagram.png}

    \captionof{figure}{\textit{Requirement traceability matrix showing dependencies between requirements.}}
    \label{fig:requirements-diagram}
\end{landscape}

\FloatBarrier

\section*{References}
\addcontentsline{toc}{section}{References}
\begin{enumerate}
    \item "Catan," [Online]. Available: \url{http://en.wikipedia.org/wiki/Catan}. [Accessed 9 October 2025].
    \item "Artificial Intelligence," [Online]. Available: \url{http://en.wikipedia.org/wiki/Artificial_intelligence}. [Accessed 9 October 2025].
    \item "Reinforcement Learning," [Online]. Available: \url{https://www.ibm.com/think/topics/reinforcement-learning}. [Accessed 9 October 2025].
    \item "Digital Twin," [Online]. Available: \url{http://en.wikipedia.org/wiki/Digital_twin}. [Accessed 9 October 2025].
    \item "Computer Vision," [Online]. Available: \url{https://www.ibm.com/think/topics/computer-vision}. [Accessed 9 October 2025].
    \item "Large Language Model (LLM)," [Online]. Available: \url{https://www.cloudflare.com/learning/ai/what-is-large-language-model/}. [Accessed 9 October 2025].
    \item "Game State," [Online]. Available: \url{https://milvus.io/ai-quick-reference/what-is-a-state-in-rl}. [Accessed 9 October 2025].
    \item "Google TypeScript Style Guide," [Online]. Available: \url{https://google.github.io/styleguide/tsguide.html}. [Accessed 10 October 2025].
    \item "PEP 8 -- Style Guide for Python Code," [Online]. Available: \url{https://peps.python.org/pep-0008/}. [Accessed 10 October 2025].
    \item "Catanatron GitHub Repository," [Online]. Available: \url{https://github.com/bcollazo/catanatron}. [Accessed 10 October 2025].
    \item "OpenCV," [Online]. Available: \url{https://docs.opencv.org/4.x/d1/dfb/intro.html}. [Accessed 10 October 2025].
    \item "YoloV9," [Online]. Available: \url{https://docs.ultralytics.com/models/yolov9/}. [Accessed 10 October 2025].
    \item A. E. Elo, "The Rating of Chessplayers, Past and Present," Arco Publishing, 1978.
    \item Y. Bengio, J. Louradour, R. Collobert, and J. Weston, "Curriculum learning," in Proceedings of the 26th International Conference on Machine Learning (ICML), 2009, pp. 41–48.
    \item D. A. Kolb, "Experiential Learning: Experience as the Source of Learning and Development," Prentice Hall, 1984. See also: \url{https://en.wikipedia.org/wiki/Experiential_learning}. [Accessed 11 February 2026].
\end{enumerate}
\newpage{}

\section*{Appendix --- Reflection}
\addcontentsline{toc}{section}{Appendix}
\input{../SRS_Reflection.tex}

\subsection*{Jake Read}\label{subsec:jake-read}
\begin{enumerate}
    \item I primarily worked on the hazard analysis doc, so for this one I handled a lot of the reviewing.
    I read through each section and made comments on things that could be improved or added, and I think it went quite smoothly.
    My team members are all still pulling their weight, and everyone accepts feedback well, which is great.
    I would say the doc is more coherent now, hopefully that comes across to you as well :)

    \item The main pain point was the good old Meyer template.
    To be honest, I don't enjoy SRS documents, so I wasn't particularly thrilled to have to write another one after 3RA3.
    We were recommended to use Meyer over Volere, and I'm happy with the choice, since Volere is pointlessly long, but Meyer has its own challenges.
    For one, the template is only available in asciidoctor (why?), so I had to rewrite the whole template in LaTeX\@.
    On top of that, it definitely feels like the SRS rubric is focused more so on Volere, so making sure this one followed it too was a bit of a hassle.
    Additionally, last time we used this template, it was the final project for an entire course, but naturally there wasn't as much time for this deliverable, so it feels comparitively limited.
    We compromised my shortening certain sections, while tweaking the template in areas to add more lists of actual requirements.

    \item Quite a lot of our requirements came from chatting with Prof. Istvan David, our supervisor.
    I asked him a lot of questions regarding his expectations when proposing the project, as well as asking for clarification for more technical details we weren't aware of.
    His initial project description was also an excellent source for requirements elicitation since it was well-structured and separated rather modularly.
    Sunny also has connections in the \emph{\Catan{}} competitive community, so we were able to derive some requirements directly from our potential user base.

    \item Most of the courses we've taken throughout uni will help obviously, since that's the fundamental idea behind a capstone project, but there are a few that are particularly relevant.
    3RA3 covered a lot of the documentation that we also have to do for this class.
    Having done similar work before definitely helps reduce some of the frustration of seemingly endless written deliverables (marginally), so I'm grateful for that.
    I'm also currently taking 4AL3 as an elective, which focuses on the application of machine learning.
    It covers reinforcement learning, which is the focus of our project, so it's a very relevant course.
    Overall though, I think the most helpful course for this project, (and in my opinion the most useful course in this degree so far), was 2AA4.
    That course was essentially capstone-lite, with one large main full-term coding project that progressed in stages, from an MVP up to a finished product.
    It also covered design principles and gave critical experience regarding the organization of group coding projects.
    It had a huge workload and was very stressful at the time, but in retrospect it was the most fun I've had in any course, and it's a big part of why I'm so excited for this project.

    \item The main skills we're going to need revolve around deep reinforcement learning and deep neural networks.
    This is the main reason I wanted to take this project in the first place.
    DRL is a relatively new field, with a lot of active research, so an opportunity to work with it to this scale is rare and develops highly marketable software engineering skills.
    With \emph{\Catan{}}, a big area of knowledge we'll need is the creation and application of heuristics to guide the DRL model to improved results.
    I'm rather interested in this, and I'm happy to research it on my own time to try to gain some expertise for the group.

    \item For getting an understanding of DRL and DNN, we have two main ways of gaining the necessary knowledge.
    One of the options for learning this is researching on our own time, using a list of papers on the subject we're slowly collecting on our Discord.
    The other option is discussions with Istvan, since he's an expert on the subject and is happy to help with any confusions we have.
    The approach to learning heuristics to aid the model are similar, research and consulting Istvan, but a bit of trial and error will be involved too.
    By definition, no one knows exactly why heuristics work, they're a matter of intuition, so by just experimenting with different approaches I should be able to learn quite a lot.
    I'm planning on learning primarily by chatting with Istvan.
    I've already been asking him a lot of questions and his answers have been very helpful, so while he's happy to keep helping I'm happy to keep learning from him.
    If I feel like I'm taking too much of his time, I'll fall back on research and experimentation.

\end{enumerate}
\subsection*{Sunny Yao}\label{subsec:sunny-yao}
\begin{enumerate}
    \item 
    This deliverable used the Meyer template which we have experience with from
    our requirements courses. This gave us extensive experience in writing
    requirements documents, and we were able to leverage this experience to
    efficiently produce a high-quality document. However, we had to adapt the
    template to fit the specific needs of our project, effectively shortening
    section

    \item Some of the pain points included syncing requirements and components
    across all of the sections. We had to ensure that the components we
    defined in the environment section were consistent with those in the system
    section, and that the requirements we defined were feasible given the
    components we had. This required a lot of back-and-forth and revisions to
    ensure consistency.

    \item It was useful to get the perspectives of users as well as researching the 
    top currently existing competitive \emph{\Catan{}} bots. We were able to look at the limitations
    of these bots and their user interfaces to help us define requirements for our own project.
    In addition, we were able to get a better understanding of the needs of reinforcement
    learning systems from our supervisor, who has extensive experience in this area.

    \item We have taken 3RA3, which focused on requirements engineering and software design.
    This course provided us with a strong foundation in writing requirements documents
    and designing software systems. In addition the engineering fundamentals courses since
    1P13 have provided us with a strong foundation in software engineering principles and practices.
    We have also taken courses in machine learning and artificial intelligence, which will be useful
    for understanding the reinforcement learning aspects of our project.

    \item The skills we will need to successfully complete this project include reinforcement
    learning, computer vision, as well as competitive \emph{\Catan{}} strategies. We will also need
    strong software engineering skills to design and implement the system. In addition, we will
    need to be able to work effectively as a team, communicating and collaborating to ensure
    that we are all on the same page and working towards the same goals.

    \item The main way we will gain the necessary reinforcement learning and computer vision
    knowledge is through research and self-study. We will read papers and articles on these topics,
    as well as experimenting with different techniques and approaches. Also, many of us are taking
    the 4AL3 course this term, which focuses on the application of machine learning.
    This will provide us with a strong foundation in this area. For competitive \emph{\Catan{}} strategies, we will leverage the expertise of
    competitive players as well as our own experience playing the game. We will also study existing \emph{\Catan{}} bots
    to understand their strategies and approaches.

\end{enumerate}

\subsection*{Rebecca}\label{subsec:rebecca}
\begin{enumerate}
    \item During this deliverable our team divided the work evenly and met weekly to stay 
    organized. We assigned and tracked tasks through Discord, which 
    helped keep everyone accountable. After completing our assigned
     sections, we reviewed the rubric to make sure each requirement
      was met. On the final day before submission, we held a seven-hour
      work session to review every part of the document together and
       ensure full consistency and quality.

    \item One of the main pain points during this deliverable was that the rubric included
    several elements not explicitly covered by the Meyer template.
     Because of this, we had to diverge from the original format to 
     align with the rubric’s expectations. We decided to create
      a “Changes Table” that clearly outlined all modifications and
       additions we made to the original template, ensuring clarity
        and consistency across the document.

    \item We spoke extensively with our supervisor, Dr. David,
     who proposed the project and provided valuable insights into 
     reinforcement learning (RL) and deep reinforcement learning (DRL).
      In addition, Sunny has a connection with a competitive 
      \emph{\Catan{}} player, whose input has been great in
     shaping some of our project requirements and understanding 
       player strategies.

    \item I am currently taking 4AL3 (Introduction to Machine Learning),
     which aligns closely with our project since it covers many of the
      core topics in DRL. Previous courses such as 3RA3 (Requirements Engineering)
       were also extremely helpful, as we used the Meyer template
        originally introduced there. Also, 2AA4 (Software Design I)
         was valuable because it emphasized iterative project development, starting
          with an MVP and building up, which mirrors the structure of our capstone project.

    \item Our team needs to develop strong knowledge in deep reinforcement learning (DRL)
     and neural networks, as these are the core of our system. This is a fast-growing field
      with many new research directions. From the sounds of it, Jake and I will focus on researching DRL models 
      and architectures, Sunny will focus on the digital twin,
      and personas modelling. Finally Matthew will concentrate on integrating computer vision (CV) into the project.

    \item For DRL, Jake and I's main learning methods will include independent
     research using online resources, papers, and tutorials. Also regular discussions
      with Dr. David for technical guidance. Dr. David has provided us with lots of relevant papers
      and resources to get us started which is extremely helpful. 
\end{enumerate}

\subsection*{Matthew Cheung}\label{subsec:matthew-cheung}
\begin{enumerate}
    \item
    Our team worked well together, dividing the workload evenly and holding weekly meetings to stay organized.
    We used a Kanban board on GitHub and a Discord server for communication, which helped us track progress and maintain accountability.
    On the day of submission, we held a seven-hour work session to ensure the document was consistent and high-quality.
    The group synergy as a team was great as we helped each other when necessary, allowing for a collaborative work process.

    \item The main pain point was adapting the Meyer template to fit the rubric's requirements.
    The template itself was in an unfamiliar format (asciidoctor), requiring us to rewrite it in LaTeX.
    Also, we found the rubric seemed better suited for the Volere template, so we had to modify our Meyer document to include more explicit requirement lists.
    We created a "Changes from Template" table to clearly explain all our modifications, ensuring the document remained coherent and aligned with the rubric.
    We also had to consistently sync requirements and components across different sections to prevent inconsistencies, which involved a lot of back-and-forth and revisions.
    This led to a lot of unplanned work, significantly increasing the time we had to spend working on this document.
    In hindsight, we should have read the rubric thoroughly at the start, which would have shown us that it was modeled after Volere, not Meyer.

    \item A significant number of our requirements were gathered from external sources.
    Our main source was our project supervisor, Dr. Istvan David, who provided the initial project description and answered our technical questions.
    Additionally, a team member has a connection to a competitive \emph{\Catan{}} player, which allowed us to get direct user input.
    This helped us understand the specific needs of our target audience and the limitations of existing competitive \AI{} bots, which in turn helped shape our requirements.

    \item Several courses have been, and will be, crucial for our project's success.
    3RA3 (Requirements Engineering): This course gave us a solid foundation in writing requirements documents and using the Meyer template.
    4AL3 (Introduction to Machine Learning): This elective course is directly relevant to our project's core, as it covers topics like reinforcement learning (RL) and deep neural networks (DNNs).
    2AA4 (Software Design I): This course provided invaluable experience in managing a large, full-term group coding project, emphasizing iterative development and organization.

    \item To successfully complete this capstone project, our team will need to acquire several key knowledge and skill sets.
    We'll need expertise in deep reinforcement learning (DRL) andneural networks, which are at the core of our system.
    A significant area of focus will be understanding how to apply heuristics to guide the DRL model for optimal performance.
    Additionally, we'll need to develop a deep understanding of the digital twin concept to accurately model the physical game board.
    Finally, mastering computer vision (CV) will be crucial for processing visual input from a camera to represent the game state digitally.

    \item For DRL and DNN's: Independent research using academic papers, online resources, and tutorials.
    We could also have regular discussions with our supervisor, Dr. Istvan David, who is an expert in the field, as his feedback has already been very helpful.
    For Digital Twin and Persona Modeling: Self-study and research into digital twin architectures and human-computer interaction principles, in pair with experimenting with design patterns and models to see what works best for our system.

\end{enumerate}


\end{document}
